<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.4">
  <compounddef id="_pxe_player_page_view_controller_8m" kind="file">
    <compoundname>PxePlayerPageViewController.m</compoundname>
    <includes refid="_pxe_player_page_view_controller_8h" local="yes">PxePlayerPageViewController.h</includes>
    <includes refid="_pxe_player_page_content_view_controller_8h" local="yes">PxePlayerPageContentViewController.h</includes>
    <includes refid="_pxe_player_page_manager_8h" local="yes">PxePlayerPageManager.h</includes>
    <includes refid="_pxe_player_loading_view_8h" local="yes">PxePlayerLoadingView.h</includes>
    <includes refid="_pxe_player_u_i_constants_8h" local="yes">PxePlayerUIConstants.h</includes>
    <includes local="yes">PxePlayerURLArrayParser.h</includes>
    <includes local="yes">PxePlayerInterface.h</includes>
    <includes local="yes">Reachability.h</includes>
    <includes refid="_pxe_player_8h" local="yes">PxePlayer.h</includes>
    <includes refid="_pxe_player_data_manager_8h" local="yes">PxePlayerDataManager.h</includes>
    <includes refid="_pxe_player_page_details_8h" local="yes">PxePlayerPageDetails.h</includes>
    <includes refid="_pxe_player_light_box_view_controller_8h" local="yes">PxePlayerLightBoxViewController.h</includes>
    <incdepgraph>
      <node id="239">
        <label>PxePlayerPageDetails.h</label>
        <link refid="_pxe_player_page_details_8h"/>
        <childnode refid="230" relation="include">
        </childnode>
        <childnode refid="238" relation="include">
        </childnode>
      </node>
      <node id="236">
        <label>PxePlayer.h</label>
        <link refid="_pxe_player_8h"/>
      </node>
      <node id="234">
        <label>PxePlayerInterface.h</label>
      </node>
      <node id="233">
        <label>PxePlayerURLArrayParser.h</label>
      </node>
      <node id="231">
        <label>PxePlayerLoadingView.h</label>
        <link refid="_pxe_player_loading_view_8h"/>
        <childnode refid="226" relation="include">
        </childnode>
      </node>
      <node id="226">
        <label>UIKit/UIKit.h</label>
      </node>
      <node id="238">
        <label>CoreData/CoreData.h</label>
      </node>
      <node id="228">
        <label>PxePlayerBookDelegate.h</label>
      </node>
      <node id="232">
        <label>PxePlayerUIConstants.h</label>
        <link refid="_pxe_player_u_i_constants_8h"/>
      </node>
      <node id="235">
        <label>Reachability.h</label>
      </node>
      <node id="240">
        <label>PxePlayerLightBoxViewController.h</label>
        <link refid="_pxe_player_light_box_view_controller_8h"/>
        <childnode refid="226" relation="include">
        </childnode>
      </node>
      <node id="230">
        <label>Foundation/Foundation.h</label>
      </node>
      <node id="227">
        <label>PxePlayerPageContentViewController.h</label>
        <link refid="_pxe_player_page_content_view_controller_8h"/>
        <childnode refid="226" relation="include">
        </childnode>
        <childnode refid="228" relation="include">
        </childnode>
      </node>
      <node id="237">
        <label>PxePlayerDataManager.h</label>
        <link refid="_pxe_player_data_manager_8h"/>
        <childnode refid="230" relation="include">
        </childnode>
        <childnode refid="238" relation="include">
        </childnode>
      </node>
      <node id="225">
        <label>PxePlayerPageViewController.h</label>
        <link refid="_pxe_player_page_view_controller_8h"/>
        <childnode refid="226" relation="include">
        </childnode>
      </node>
      <node id="224">
        <label>PxePlayerPageViewController.m</label>
        <link refid="PxePlayerPageViewController.m"/>
        <childnode refid="225" relation="include">
        </childnode>
        <childnode refid="227" relation="include">
        </childnode>
        <childnode refid="229" relation="include">
        </childnode>
        <childnode refid="231" relation="include">
        </childnode>
        <childnode refid="232" relation="include">
        </childnode>
        <childnode refid="233" relation="include">
        </childnode>
        <childnode refid="234" relation="include">
        </childnode>
        <childnode refid="235" relation="include">
        </childnode>
        <childnode refid="236" relation="include">
        </childnode>
        <childnode refid="237" relation="include">
        </childnode>
        <childnode refid="239" relation="include">
        </childnode>
        <childnode refid="240" relation="include">
        </childnode>
      </node>
      <node id="229">
        <label>PxePlayerPageManager.h</label>
        <link refid="_pxe_player_page_manager_8h"/>
        <childnode refid="230" relation="include">
        </childnode>
      </node>
    </incdepgraph>
    <innerclass refid="category_pxe_player_page_view_controller_07_08" prot="public">PxePlayerPageViewController()</innerclass>
      <sectiondef kind="enum">
      <memberdef kind="enum" id="_pxe_player_page_view_controller_8m_1a58fc61e2ef431f37961e7699c5d49dd9" prot="public" static="no">
        <name>ALERT_TAGS</name>
        <enumvalue id="_pxe_player_page_view_controller_8m_1a58fc61e2ef431f37961e7699c5d49dd9ad978f7019593009f17311fe511e4d49c" prot="public">
          <name>ADD_BOOKMARK_TAG</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="_pxe_player_page_view_controller_8m_1a58fc61e2ef431f37961e7699c5d49dd9a573636addad489a140411024c3a7c52e" prot="public">
          <name>EDIT_BOOKMARK_TAG</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="_pxe_player_page_view_controller_8m_1a58fc61e2ef431f37961e7699c5d49dd9a44bb2ec0635d4b7e39ec95be70b46ec6" prot="public">
          <name>DELETE_BOOKMARK_TAG</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="_pxe_player_page_view_controller_8m_1a58fc61e2ef431f37961e7699c5d49dd9ae20c1cbbc800cf141eab82603add822e" prot="public">
          <name>BOOKMARK_NO_TITLE_TAG</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="_pxe_player_page_view_controller_8m_1a58fc61e2ef431f37961e7699c5d49dd9ac0bc5c16a3a6f07fc9fe9106f846ecc2" prot="public">
          <name>ERROR_TAG</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>An enumeration of Error and Bookmarks states </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/TITANIUM/Projects/pxereaderios/PxeReaderSDK/PxePlayerApiUI/PxePlayerPageViewController.m" line="28" column="1" bodyfile="/Users/TITANIUM/Projects/pxereaderios/PxeReaderSDK/PxePlayerApiUI/PxePlayerPageViewController.m" bodystart="27" bodyend="34"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>PxePlayerPageViewController.m</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>PxePlayerApi</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>Created<sp/>by<sp/>Saro<sp/>Bear<sp/>on<sp/>26/10/13.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>Copyright<sp/>(c)<sp/>2013<sp/>Happiest<sp/>Minds.<sp/>All<sp/>rights<sp/>reserved.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#import<sp/>&quot;<ref refid="_pxe_player_page_view_controller_8h" kindref="compound">PxePlayerPageViewController.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="preprocessor">#import<sp/>&quot;<ref refid="_pxe_player_page_content_view_controller_8h" kindref="compound">PxePlayerPageContentViewController.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="preprocessor">#import<sp/>&quot;<ref refid="_pxe_player_page_manager_8h" kindref="compound">PxePlayerPageManager.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="preprocessor">#import<sp/>&quot;<ref refid="_pxe_player_loading_view_8h" kindref="compound">PxePlayerLoadingView.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="preprocessor">#import<sp/>&quot;<ref refid="_pxe_player_u_i_constants_8h" kindref="compound">PxePlayerUIConstants.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="preprocessor">#import<sp/>&quot;PxePlayerURLArrayParser.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="preprocessor">#import<sp/>&quot;PxePlayerInterface.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="preprocessor">#import<sp/>&quot;Reachability.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="preprocessor">#import<sp/>&quot;<ref refid="_pxe_player_8h" kindref="compound">PxePlayer.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="preprocessor">#import<sp/>&quot;<ref refid="_pxe_player_data_manager_8h" kindref="compound">PxePlayerDataManager.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#import<sp/>&quot;<ref refid="_pxe_player_page_details_8h" kindref="compound">PxePlayerPageDetails.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#import<sp/>&quot;<ref refid="_pxe_player_light_box_view_controller_8h" kindref="compound">PxePlayerLightBoxViewController.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight></codeline>
<codeline lineno="27" refid="_pxe_player_page_view_controller_8m_1a58fc61e2ef431f37961e7699c5d49dd9" refkind="member"><highlight class="keyword">enum</highlight><highlight class="normal"><sp/><ref refid="_pxe_player_page_view_controller_8m_1a58fc61e2ef431f37961e7699c5d49dd9" kindref="member">ALERT_TAGS</ref></highlight></codeline>
<codeline lineno="28"><highlight class="normal">{</highlight></codeline>
<codeline lineno="29" refid="_pxe_player_page_view_controller_8m_1a58fc61e2ef431f37961e7699c5d49dd9ad978f7019593009f17311fe511e4d49c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_pxe_player_page_view_controller_8m_1a58fc61e2ef431f37961e7699c5d49dd9ad978f7019593009f17311fe511e4d49c" kindref="member">ADD_BOOKMARK_TAG</ref>,</highlight></codeline>
<codeline lineno="30" refid="_pxe_player_page_view_controller_8m_1a58fc61e2ef431f37961e7699c5d49dd9a573636addad489a140411024c3a7c52e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_pxe_player_page_view_controller_8m_1a58fc61e2ef431f37961e7699c5d49dd9a573636addad489a140411024c3a7c52e" kindref="member">EDIT_BOOKMARK_TAG</ref>,</highlight></codeline>
<codeline lineno="31" refid="_pxe_player_page_view_controller_8m_1a58fc61e2ef431f37961e7699c5d49dd9a44bb2ec0635d4b7e39ec95be70b46ec6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_pxe_player_page_view_controller_8m_1a58fc61e2ef431f37961e7699c5d49dd9a44bb2ec0635d4b7e39ec95be70b46ec6" kindref="member">DELETE_BOOKMARK_TAG</ref>,</highlight></codeline>
<codeline lineno="32" refid="_pxe_player_page_view_controller_8m_1a58fc61e2ef431f37961e7699c5d49dd9ae20c1cbbc800cf141eab82603add822e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_pxe_player_page_view_controller_8m_1a58fc61e2ef431f37961e7699c5d49dd9ae20c1cbbc800cf141eab82603add822e" kindref="member">BOOKMARK_NO_TITLE_TAG</ref>,</highlight></codeline>
<codeline lineno="33" refid="_pxe_player_page_view_controller_8m_1a58fc61e2ef431f37961e7699c5d49dd9ac0bc5c16a3a6f07fc9fe9106f846ecc2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_pxe_player_page_view_controller_8m_1a58fc61e2ef431f37961e7699c5d49dd9ac0bc5c16a3a6f07fc9fe9106f846ecc2" kindref="member">ERROR_TAG</ref>,</highlight></codeline>
<codeline lineno="34"><highlight class="normal">};</highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight></codeline>
<codeline lineno="40" refid="category_pxe_player_page_view_controller_07_08" refkind="compound"><highlight class="keyword">@interface<sp/></highlight><highlight class="normal"><ref refid="interface_pxe_player_page_view_controller" kindref="compound">PxePlayerPageViewController</ref><sp/>()<sp/>&lt;UIPageViewControllerDataSource,<sp/>UIPageViewControllerDelegate,<sp/><ref refid="protocol_pxe_player_page_manager_delegate-p" kindref="compound">PxePlayerPageManagerDelegate</ref>&gt;</highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight></codeline>
<codeline lineno="45" refid="category_pxe_player_page_view_controller_07_08_1af365be45f0c1dee605f424d149e23bbe" refkind="member"><highlight class="keyword">@property</highlight><highlight class="normal"><sp/>(nonatomic,<sp/>assign)<sp/>BOOL<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>isPageAnimating;</highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight></codeline>
<codeline lineno="50" refid="category_pxe_player_page_view_controller_07_08_1aee05105a7a1e6407c1e86b6ed04ae2a9" refkind="member"><highlight class="keyword">@property</highlight><highlight class="normal"><sp/>(nonatomic,<sp/>assign)<sp/>BOOL<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>shouldAllowPageSwipe;</highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="55" refid="category_pxe_player_page_view_controller_07_08_1ae3b736e136429f4b8cc93b93fa680703" refkind="member"><highlight class="keyword">@property</highlight><highlight class="normal"><sp/>(nonatomic,<sp/>strong)<sp/>NSString<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*startPage;</highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight></codeline>
<codeline lineno="61" refid="category_pxe_player_page_view_controller_07_08_1afb00dbfd0c479fe097a1fd1357826fd8" refkind="member"><highlight class="keyword">@property</highlight><highlight class="normal"><sp/>(nonatomic,<sp/>strong)<sp/>NSMutableDictionary<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pagesContainer;</highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight></codeline>
<codeline lineno="67" refid="category_pxe_player_page_view_controller_07_08_1a7a2a974b2f99a60d2557c304281e6226" refkind="member"><highlight class="keyword">@property</highlight><highlight class="normal"><sp/>(nonatomic,<sp/>strong)<sp/>UIPageViewController<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pageViewController;</highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight></codeline>
<codeline lineno="72" refid="category_pxe_player_page_view_controller_07_08_1a5d1f551e72ef07acb9057d1c68d4e4a3" refkind="member"><highlight class="keyword">@property</highlight><highlight class="normal"><sp/>(nonatomic,<sp/>assign)<sp/>NSUInteger<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>transitionStyle;</highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="78" refid="category_pxe_player_page_view_controller_07_08_1a2d0cd55db172a5b8d943ab0ad47d555d" refkind="member"><highlight class="keyword">@property</highlight><highlight class="normal"><sp/>(nonatomic,<sp/>assign)<sp/>NSUInteger<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scalePage;</highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight></codeline>
<codeline lineno="84" refid="category_pxe_player_page_view_controller_07_08_1aff618947eec45f461b189b6971198a5d" refkind="member"><highlight class="keyword">@property</highlight><highlight class="normal"><sp/>(nonatomic,<sp/>strong)<sp/><ref refid="interface_pxe_player_page_manager" kindref="compound">PxePlayerPageManager</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pageManager;</highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight></codeline>
<codeline lineno="90" refid="category_pxe_player_page_view_controller_07_08_1a52b8cccbb0b8acb9ae499f77281c65fd" refkind="member"><highlight class="keyword">@property</highlight><highlight class="normal"><sp/>(nonatomic,<sp/>strong)<sp/><ref refid="interface_pxe_player_loading_view" kindref="compound">PxePlayerLoadingView</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*loadingView;</highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight><highlight class="keyword">@end</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight><highlight class="keyword">@implementation<sp/></highlight><highlight class="normal"><ref refid="interface_pxe_player_page_view_controller" kindref="compound">PxePlayerPageViewController</ref></highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>mark<sp/>-<sp/>Self<sp/>Methods</highlight></codeline>
<codeline lineno="97"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="98" refid="interface_pxe_player_page_view_controller_1a15e65a86dea35012359faacb38a052f8" refkind="member"><highlight class="normal">-(id)initWithURL:(</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">)masterdata<sp/>andCustomPlaylistURLs:(NSArray*)custompages</highlight></codeline>
<codeline lineno="99"><highlight class="normal">{</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>=<sp/>[</highlight><highlight class="keyword">super</highlight><highlight class="normal"><sp/>init];</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">self</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.shouldAllowPageSwipe<sp/>=<sp/>YES;</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.transitionStyle<sp/>=<sp/>UIPageViewControllerTransitionStylePageCurl;</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.scalePage<sp/>=<sp/><ref refid="_pxe_player_u_i_constants_8h_1a92d42dca9ac9dbf207df53072704dbbea822ffd2dc44f892cd363b3a12d343bf3" kindref="member">PXEPLAYER_SCALE_PAGE_TO_FIT_NO</ref>;</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>([masterdata<sp/>isKindOfClass:[NSString<sp/></highlight><highlight class="keyword">class</highlight><highlight class="normal">]])<sp/>{</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>=<sp/>[[<ref refid="interface_pxe_player_page_manager" kindref="compound">PxePlayerPageManager</ref><sp/>alloc]<sp/>initWithNCXUrl:masterdata<sp/>withCustomPlaylist:custompages<sp/>andDelegate:self];</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>=<sp/>[[<ref refid="interface_pxe_player_page_manager" kindref="compound">PxePlayerPageManager</ref><sp/>alloc]<sp/>initWithMasterPlaylist:masterdata<sp/>withCustomPlaylist:custompages<sp/>andDelegate:self];</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="115"><highlight class="normal">}</highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight></codeline>
<codeline lineno="117" refid="interface_pxe_player_page_view_controller_1a150d11a91f41f65c2ffd52da4fa2f9a5" refkind="member"><highlight class="normal">-(id)initWithURL:(</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">)masterdata<sp/>andCustomPlaylistURLs:(NSArray*)custompages<sp/>withOptions:(NSDictionary*)options</highlight></codeline>
<codeline lineno="118"><highlight class="normal">{</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/><ref refid="interface_pxe_player_page_view_controller_1a15e65a86dea35012359faacb38a052f8" kindref="member">initWithURL</ref>:masterdata<sp/><ref refid="interface_pxe_player_page_view_controller_1a15e65a86dea35012359faacb38a052f8" kindref="member">andCustomPlaylistURLs</ref>:custompages];</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">self</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(options)</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(options[<ref refid="_pxe_player_u_i_constants_8h_1ad230beaa090df8959c69d5410ab6a8ce" kindref="member">PXEPLAYER_ALLOW_PAGE_SWIPE</ref>]<sp/>!=<sp/>nil)<sp/>{</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.shouldAllowPageSwipe<sp/>=<sp/>[options[PXEPLAYER_ALLOW_PAGE_SWIPE]<sp/>boolValue];</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(options[<ref refid="_pxe_player_u_i_constants_8h_1a9268aaef58bfc3b07633c16928d9ac9e" kindref="member">PXEPLAYER_PAGE_TRANSITION_STYLE</ref>]<sp/>!=<sp/>nil)<sp/>{</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.transitionStyle<sp/>=<sp/>[options[PXEPLAYER_PAGE_TRANSITION_STYLE]<sp/>unsignedIntegerValue];</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(options[<ref refid="_pxe_player_u_i_constants_8h_1a9268aaef58bfc3b07633c16928d9ac9e" kindref="member">PXEPLAYER_PAGE_TRANSITION_STYLE</ref>]<sp/>!=<sp/>nil)<sp/>{</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.scalePage<sp/>=<sp/>[options[PXEPLAYER_SCALE_PAGE_TO_FIT]<sp/>unsignedIntegerValue];</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="137"><highlight class="normal">}</highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight></codeline>
<codeline lineno="139" refid="interface_pxe_player_page_view_controller_1a38fb0bb294f187bb8dc81dbe21dacc0a" refkind="member"><highlight class="normal">-(id)initWithURL:(</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">)masterdata<sp/>andCustomPlaylistURLs:(NSArray*)custompages<sp/>andGotoPage:(NSString*)page<sp/>withOptions:(NSDictionary*)options</highlight></codeline>
<codeline lineno="140"><highlight class="normal">{</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/><ref refid="interface_pxe_player_page_view_controller_1a150d11a91f41f65c2ffd52da4fa2f9a5" kindref="member">initWithURL</ref>:masterdata<sp/><ref refid="interface_pxe_player_page_view_controller_1a150d11a91f41f65c2ffd52da4fa2f9a5" kindref="member">andCustomPlaylistURLs</ref>:custompages<sp/><ref refid="interface_pxe_player_page_view_controller_1a150d11a91f41f65c2ffd52da4fa2f9a5" kindref="member">withOptions</ref>:options];</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">self</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(page)<sp/>{</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.startPage<sp/>=<sp/>page;</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="150"><highlight class="normal">}</highlight></codeline>
<codeline lineno="151"><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal">-(void)loadView</highlight></codeline>
<codeline lineno="153"><highlight class="normal">{</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/>UIView<sp/>*view<sp/>=<sp/>[[UIView<sp/>alloc]<sp/>initWithFrame:CGRectZero];</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/>view.backgroundColor<sp/>=<sp/>[UIColor<sp/>whiteColor];</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/>view.autoresizingMask<sp/>=<sp/>UIViewAutoresizingFlexibleWidth|UIViewAutoresizingFlexibleHeight;</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.view<sp/>=<sp/>view;</highlight></codeline>
<codeline lineno="158"><highlight class="normal">}</highlight></codeline>
<codeline lineno="159"><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal">-<sp/>(void)viewDidLoad</highlight></codeline>
<codeline lineno="161"><highlight class="normal">{</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">super</highlight><highlight class="normal"><sp/>viewDidLoad];</highlight></codeline>
<codeline lineno="163"><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Do<sp/>any<sp/>additional<sp/>setup<sp/>after<sp/>loading<sp/>the<sp/>view.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.pagesContainer<sp/>=<sp/>[[NSMutableDictionary<sp/>alloc]<sp/>initWithCapacity:0];</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/>NSDictionary<sp/>*spineOptions<sp/>=<sp/>[NSDictionary<sp/>dictionaryWithObject:[NSNumber<sp/>numberWithInteger:UIPageViewControllerSpineLocationMin]<sp/>forKey:UIPageViewControllerOptionSpineLocationKey];</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageViewController<sp/>=<sp/>[[UIPageViewController<sp/>alloc]</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>initWithTransitionStyle:self.transitionStyle</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>navigationOrientation:UIPageViewControllerNavigationOrientationHorizontal</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>options:spineOptions];</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageViewController.dataSource<sp/>=<sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageViewController.delegate<sp/>=<sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//add<sp/>the<sp/>page<sp/>view<sp/>controler</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageViewController.view.frame<sp/>=<sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.view.bounds;</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>addChildViewController:self.pageViewController];</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageViewController<sp/>didMoveToParentViewController:self];</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.view<sp/>addSubview:self.pageViewController.view];</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/>UIViewController<sp/>*contentController<sp/>=<sp/>[[UIViewController<sp/>alloc]<sp/>init];</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/>NSArray<sp/>*viewControllers<sp/>=<sp/>@[contentController];</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageViewController<sp/>setViewControllers:viewControllers<sp/>direction:UIPageViewControllerNavigationDirectionForward<sp/>animated:NO<sp/>completion:nil];</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.isPageAnimating<sp/>=<sp/>NO;</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.loadingView<sp/>=<sp/>[<ref refid="interface_pxe_player_loading_view" kindref="compound">PxePlayerLoadingView</ref><sp/><ref refid="interface_pxe_player_loading_view_1af369e5258443bcf7c4420fab7012e2bc" kindref="member">loadingViewInView</ref>:self.view];</highlight></codeline>
<codeline lineno="190"><highlight class="normal">}</highlight></codeline>
<codeline lineno="191"><highlight class="normal"></highlight></codeline>
<codeline lineno="192"><highlight class="normal">-(void)viewWillAppear:(BOOL)animated<sp/>{</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">super</highlight><highlight class="normal"><sp/>viewWillAppear:animated];</highlight></codeline>
<codeline lineno="194"><highlight class="normal">}</highlight></codeline>
<codeline lineno="195"><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal">-<sp/>(void)didReceiveMemoryWarning<sp/>{</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">super</highlight><highlight class="normal"><sp/>didReceiveMemoryWarning];</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Dispose<sp/>of<sp/>any<sp/>resources<sp/>that<sp/>can<sp/>be<sp/>recreated.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal">}</highlight></codeline>
<codeline lineno="200"><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal">-(void)dealloc</highlight></codeline>
<codeline lineno="202"><highlight class="normal">{</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/>DLog(</highlight><highlight class="stringliteral">@&quot;page<sp/>view<sp/>controller<sp/>deallocated...&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.startPage<sp/>=<sp/>nil;</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.pagesContainer<sp/>=<sp/>nil;</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageViewController<sp/>=<sp/>nil;</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>=<sp/>nil;</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.loadingView<sp/>=<sp/>nil;</highlight></codeline>
<codeline lineno="211"><highlight class="normal">}</highlight></codeline>
<codeline lineno="212"><highlight class="normal"></highlight></codeline>
<codeline lineno="213"><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>mark<sp/>-<sp/>Private<sp/>Methods</highlight></codeline>
<codeline lineno="215"><highlight class="preprocessor"></highlight></codeline>
<codeline lineno="225"><highlight class="normal">-(void)initializePages</highlight></codeline>
<codeline lineno="226"><highlight class="normal">{</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/>NSString<sp/>*curPage<sp/>=<sp/>nil;</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!</highlight><highlight class="keyword">self</highlight><highlight class="normal">.startPage)<sp/>{</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>curPage<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>getCurrentPage];</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSArray<sp/>*strippedPageURL<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.startPage<sp/>componentsSeparatedByString:@&quot;#&quot;];</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">([strippedPageURL<sp/>count]<sp/>&gt;<sp/>1)<sp/>{</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.startPage<sp/>=<sp/>strippedPageURL[0];</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface_pxe_player_data_manager" kindref="compound">PxePlayerDataManager</ref><sp/>*dataManager<sp/>=<sp/>[<ref refid="interface_pxe_player_data_manager" kindref="compound">PxePlayerDataManager</ref><sp/><ref refid="interface_pxe_player_data_manager_1a61a323a6162afc1a8734d8a1f7cc89c6" kindref="member">sharedInstance</ref>];</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">([</highlight><highlight class="keyword">self</highlight><highlight class="normal">.startPage<sp/>rangeOfString:</highlight><highlight class="stringliteral">@&quot;http:/&quot;</highlight><highlight class="normal">].location<sp/>!=<sp/>NSNotFound)</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSDictionary<sp/>*entity<sp/>=<sp/>[dataManager<sp/><ref refid="interface_pxe_player_data_manager_1a287665eadcaa56862dbff0c8f4b80306" kindref="member">fetchEntityForCurrentBook</ref>:@&quot;pageURL&quot;<sp/><ref refid="interface_pxe_player_data_manager_1a287665eadcaa56862dbff0c8f4b80306" kindref="member">forModel</ref>:NSStringFromClass([<ref refid="interface_pxe_player_page_details" kindref="compound">PxePlayerPageDetails</ref><sp/>class])<sp/><ref refid="interface_pxe_player_data_manager_1a287665eadcaa56862dbff0c8f4b80306" kindref="member">withValue</ref>:self.startPage<sp/><ref refid="interface_pxe_player_data_manager_1a287665eadcaa56862dbff0c8f4b80306" kindref="member">resultType</ref>:NSDictionaryResultType<sp/><ref refid="interface_pxe_player_data_manager_1a287665eadcaa56862dbff0c8f4b80306" kindref="member">withSortKey</ref>:nil<sp/><ref refid="interface_pxe_player_data_manager_1a287665eadcaa56862dbff0c8f4b80306" kindref="member">andAscending</ref>:NO];</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSInteger<sp/>pageNumber<sp/>=<sp/>[entity[@&quot;pageNumber&quot;]<sp/>integerValue];</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(pageNumber<sp/>==<sp/>1)<sp/>{</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>curPage<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>getCurrentPage];</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>curPage<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>gotoPageByPageURL:self.startPage];</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSDictionary<sp/>*entity<sp/>=<sp/>[dataManager<sp/><ref refid="interface_pxe_player_data_manager_1a287665eadcaa56862dbff0c8f4b80306" kindref="member">fetchEntityForCurrentBook</ref>:@&quot;pageId&quot;<sp/><ref refid="interface_pxe_player_data_manager_1a287665eadcaa56862dbff0c8f4b80306" kindref="member">forModel</ref>:NSStringFromClass([<ref refid="interface_pxe_player_page_details" kindref="compound">PxePlayerPageDetails</ref><sp/>class])<sp/><ref refid="interface_pxe_player_data_manager_1a287665eadcaa56862dbff0c8f4b80306" kindref="member">withValue</ref>:self.startPage<sp/><ref refid="interface_pxe_player_data_manager_1a287665eadcaa56862dbff0c8f4b80306" kindref="member">resultType</ref>:NSDictionaryResultType<sp/><ref refid="interface_pxe_player_data_manager_1a287665eadcaa56862dbff0c8f4b80306" kindref="member">withSortKey</ref>:nil<sp/><ref refid="interface_pxe_player_data_manager_1a287665eadcaa56862dbff0c8f4b80306" kindref="member">andAscending</ref>:NO];</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSInteger<sp/>pageNumber<sp/>=<sp/>[entity[@&quot;pageNumber&quot;]<sp/>integerValue];</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(pageNumber<sp/>==<sp/>1)<sp/>{</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>curPage<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>getCurrentPage];</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>curPage<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>gotoPageByPageId:self.startPage];</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.startPage<sp/>=<sp/>nil;</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(</highlight><highlight class="keyword">self</highlight><highlight class="normal">.loadingView)<sp/>{</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.loadingView<sp/>removeFromSuperview];</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.loadingView<sp/>=<sp/>nil;</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!curPage)</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[NSNotificationCenter<sp/>defaultCenter]<sp/>postNotificationName:PXEPLAYER_PAGE_FAILED<sp/>object:curPage<sp/>userInfo:<sp/>@{<sp/>NSLocalizedDescriptionKey<sp/>:<sp/>NSLocalizedString(@&quot;Page<sp/>not<sp/>available&quot;,@&quot;Page<sp/>not<sp/>available&quot;)<sp/>}];</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="interface_pxe_player_page_content_view_controller" kindref="compound">PxePlayerPageContentViewController</ref><sp/>*contentController<sp/><sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pagesContainer<sp/>objectForKey:curPage];</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!contentController)<sp/>{</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>contentController<sp/>=<sp/>[[<ref refid="interface_pxe_player_page_content_view_controller" kindref="compound">PxePlayerPageContentViewController</ref><sp/>alloc]<sp/>initWithPage:curPage<sp/>withFrame:self.pageViewController.view.bounds<sp/>andDelegate:self];</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/>NSArray<sp/>*viewControllers<sp/>=<sp/>@[contentController];</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/>__block<sp/>__unsafe_unretained<sp/><ref refid="interface_pxe_player_page_view_controller" kindref="compound">PxePlayerPageViewController</ref><sp/>*SELF<sp/>=<sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageViewController<sp/>setViewControllers:viewControllers<sp/>direction:UIPageViewControllerNavigationDirectionForward<sp/>animated:NO<sp/>completion:^(BOOL<sp/>finished)</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(finished)</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[SELF<sp/>pageManager]<sp/>updatePageIndex];<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>([[SELF<sp/>delegate]<sp/>respondsToSelector:@selector(updatePageViewUI:orLastPage:andPageNumber:)])<sp/>{</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[SELF<sp/>delegate]<sp/>updatePageViewUI:[SELF<sp/>hasPrevious]<sp/>orLastPage:[SELF<sp/>hasNext]<sp/>andPageNumber:[SELF<sp/>getCurrentPageNumber]];</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[NSNotificationCenter<sp/>defaultCenter]<sp/>postNotificationName:PXEPLAYER_BOOK_LOADED<sp/>object:nil];</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>}];</highlight></codeline>
<codeline lineno="296"><highlight class="normal">}</highlight></codeline>
<codeline lineno="297"><highlight class="normal"></highlight></codeline>
<codeline lineno="302"><highlight class="normal">-(void)setPageFromHistory:(NSNumber*)pageNumber</highlight></codeline>
<codeline lineno="303"><highlight class="normal">{</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!pageNumber)<sp/>{</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/>NSString<sp/>*currentPage<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>gotoPageByPageNumber:pageNumber];</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(currentPage)</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSInteger<sp/>currentPageIndex<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>getCurrentPageIndex];</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSInteger<sp/>newPageIndex<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>getVirtualCurrentPageIndex];</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//if<sp/>user<sp/>selects<sp/>the<sp/>same<sp/>page<sp/>where<sp/>he<sp/>is<sp/>in<sp/>than<sp/>don&apos;t<sp/>load<sp/>the<sp/>page<sp/>again</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(newPageIndex<sp/>==<sp/>currentPageIndex)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface_pxe_player_page_content_view_controller" kindref="compound">PxePlayerPageContentViewController</ref><sp/>*contentController<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pagesContainer<sp/>objectForKey:currentPage];</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!contentController){</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>contentController<sp/>=<sp/>[[<ref refid="interface_pxe_player_page_content_view_controller" kindref="compound">PxePlayerPageContentViewController</ref><sp/>alloc]<sp/>initWithPage:currentPage<sp/>withFrame:self.pageViewController.view.bounds<sp/>andDelegate:self];</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSArray<sp/>*viewControllers<sp/>=<sp/>@[contentController];</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSInteger<sp/>direction<sp/>=<sp/>UIPageViewControllerNavigationDirectionReverse;</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(newPageIndex<sp/>&gt;<sp/>currentPageIndex)<sp/>{</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>direction<sp/>=<sp/>UIPageViewControllerNavigationDirectionForward;</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>__block<sp/>__unsafe_unretained<sp/><ref refid="interface_pxe_player_page_view_controller" kindref="compound">PxePlayerPageViewController</ref><sp/>*SELF<sp/>=<sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageViewController<sp/>setViewControllers:viewControllers<sp/>direction:direction<sp/>animated:YES<sp/>completion:^(BOOL<sp/>finished)</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(finished)</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[SELF<sp/>pageManager]<sp/>updatePageIndex];</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>([[SELF<sp/>delegate]<sp/>respondsToSelector:@selector(updatePageViewUI:orLastPage:andPageNumber:)])<sp/>{</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[SELF<sp/>delegate]<sp/>updatePageViewUI:[SELF.pageManager<sp/>isFirstPage]<sp/>orLastPage:[SELF.pageManager<sp/>isLastPage]<sp/>andPageNumber:[SELF<sp/>getCurrentPageNumber]];</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}];</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="341"><highlight class="normal">}</highlight></codeline>
<codeline lineno="342"><highlight class="normal"></highlight></codeline>
<codeline lineno="349"><highlight class="normal">-(void)setCurrentPage:(NSString*)currentPage<sp/>andPageId:(NSString*)pageId<sp/>withHighlights:(NSArray*)labels</highlight></codeline>
<codeline lineno="350"><highlight class="normal">{</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(currentPage)</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSInteger<sp/>currentPageIndex<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>getCurrentPageIndex];</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSInteger<sp/>newPageIndex<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>getVirtualCurrentPageIndex];</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//if<sp/>user<sp/>selects<sp/>the<sp/>same<sp/>page<sp/>where<sp/>he<sp/>is<sp/>in<sp/>than<sp/>don&apos;t<sp/>load<sp/>the<sp/>page<sp/>again</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(newPageIndex<sp/>==<sp/>currentPageIndex)</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface_pxe_player_page_content_view_controller" kindref="compound">PxePlayerPageContentViewController</ref><sp/>*currentController<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pagesContainer<sp/>objectForKey:currentPage];</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(currentController<sp/>&amp;&amp;<sp/>labels<sp/>&amp;&amp;<sp/>labels.count)<sp/>{</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[currentController<sp/><ref refid="interface_pxe_player_page_content_view_controller_1a2ee7ab5ab5d4159e5fd53ca2538e5d6a" kindref="member">highlightSearchWords</ref>:labels];</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface_pxe_player_page_content_view_controller" kindref="compound">PxePlayerPageContentViewController</ref><sp/>*contentController<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pagesContainer<sp/>objectForKey:currentPage];</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!contentController)</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>contentController<sp/>=<sp/>[[<ref refid="interface_pxe_player_page_content_view_controller" kindref="compound">PxePlayerPageContentViewController</ref><sp/>alloc]<sp/>initWithPage:currentPage<sp/>withFrame:self.pageViewController.view.bounds<sp/>andDelegate:self];</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pagesContainer<sp/>setObject:contentController<sp/>forKey:currentPage];</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(labels<sp/>&amp;&amp;<sp/>labels.count)<sp/>{</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[contentController<sp/><ref refid="interface_pxe_player_page_content_view_controller_1a2ee7ab5ab5d4159e5fd53ca2538e5d6a" kindref="member">highlightSearchWords</ref>:labels];</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[contentController<sp/><ref refid="interface_pxe_player_page_content_view_controller_1a14807e6d4cdaea7a2cc4ba87b7a59e3b" kindref="member">setPageId</ref>:pageId];</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSArray<sp/>*viewControllers<sp/>=<sp/>@[contentController];</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSInteger<sp/>direction<sp/>=<sp/>UIPageViewControllerNavigationDirectionReverse;</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(newPageIndex<sp/>&gt;<sp/>currentPageIndex)<sp/>{</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>direction<sp/>=<sp/>UIPageViewControllerNavigationDirectionForward;</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>__block<sp/>__unsafe_unretained<sp/><ref refid="interface_pxe_player_page_view_controller" kindref="compound">PxePlayerPageViewController</ref><sp/>*SELF<sp/>=<sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageViewController<sp/>setViewControllers:viewControllers<sp/>direction:direction<sp/>animated:YES<sp/>completion:^(BOOL<sp/>finished)<sp/>{</highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(finished)<sp/>{</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[SELF<sp/>pageManager]<sp/>pageDidLoad];</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>([[SELF<sp/>delegate]<sp/>respondsToSelector:@selector(updatePageViewUI:orLastPage:andPageNumber:)])<sp/>{</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[SELF<sp/>delegate]<sp/>updatePageViewUI:[SELF<sp/>hasPrevious]<sp/>orLastPage:[SELF<sp/>hasNext]<sp/>andPageNumber:[SELF<sp/>getCurrentPageNumber]];</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}];</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="396"><highlight class="normal">}</highlight></codeline>
<codeline lineno="397"><highlight class="normal"></highlight></codeline>
<codeline lineno="398"><highlight class="normal"></highlight></codeline>
<codeline lineno="399"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>mark<sp/>-<sp/>Public<sp/>methods</highlight></codeline>
<codeline lineno="400"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="401" refid="interface_pxe_player_page_view_controller_1a40badd98cae44b3d03c20ec165fd773f" refkind="member"><highlight class="normal">-(void)scrollPageToDirection:(BOOL)isLeft</highlight></codeline>
<codeline lineno="402"><highlight class="normal">{</highlight></codeline>
<codeline lineno="403"><highlight class="normal"></highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(</highlight><highlight class="keyword">self</highlight><highlight class="normal">.isPageAnimating)</highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="interface_pxe_player_page_content_view_controller" kindref="compound">PxePlayerPageContentViewController</ref><sp/>*contentController<sp/>=<sp/>nil;</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/>NSInteger<sp/>pageDirection<sp/>=<sp/>UIPageViewControllerNavigationDirectionForward;</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="410"><highlight class="normal"></highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(isLeft)</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//right<sp/>navigation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSString<sp/>*nextPage<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>nextPage];</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(nextPage)</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>contentController<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pagesContainer<sp/>objectForKey:nextPage];</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!contentController)</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>contentController<sp/>=<sp/>[[<ref refid="interface_pxe_player_page_content_view_controller" kindref="compound">PxePlayerPageContentViewController</ref><sp/>alloc]<sp/>initWithPage:nextPage<sp/>withFrame:self.pageViewController.view.bounds<sp/>andDelegate:self];</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pagesContainer<sp/>setObject:contentController<sp/>forKey:nextPage];</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//left<sp/>navigation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSString<sp/>*prevPage<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>prevPage];</highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(prevPage)</highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>contentController<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pagesContainer<sp/>objectForKey:prevPage];</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!contentController)</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>contentController<sp/>=<sp/>[[<ref refid="interface_pxe_player_page_content_view_controller" kindref="compound">PxePlayerPageContentViewController</ref><sp/>alloc]<sp/>initWithPage:prevPage<sp/>withFrame:self.pageViewController.view.bounds<sp/>andDelegate:self];</highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pagesContainer<sp/>setObject:contentController<sp/>forKey:prevPage];</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pageDirection<sp/>=<sp/>UIPageViewControllerNavigationDirectionReverse;</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!contentController)<sp/>{</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DLog(</highlight><highlight class="stringliteral">@&quot;content<sp/>controller<sp/>failed<sp/>in<sp/>navigation...&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="446"><highlight class="normal"></highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/>__block<sp/>__unsafe_unretained<sp/><ref refid="interface_pxe_player_page_view_controller" kindref="compound">PxePlayerPageViewController</ref><sp/>*SELF<sp/>=<sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/>NSArray<sp/>*viewControllers<sp/>=<sp/>@[contentController];</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.isPageAnimating<sp/>=<sp/>YES;</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageViewController<sp/>setViewControllers:viewControllers<sp/>direction:pageDirection<sp/>animated:YES<sp/>completion:^(BOOL<sp/>finished)</highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(finished)</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="454"><highlight class="normal"></highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[SELF<sp/>pageManager]<sp/>pageDidLoad];</highlight></codeline>
<codeline lineno="456"><highlight class="normal"></highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>([[SELF<sp/>delegate]<sp/>respondsToSelector:@selector(updatePageViewUI:orLastPage:andPageNumber:)])<sp/>{</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[SELF<sp/>delegate]<sp/>updatePageViewUI:[SELF<sp/>hasPrevious]<sp/>orLastPage:[SELF<sp/>hasNext]<sp/>andPageNumber:[SELF<sp/>getCurrentPageNumber]];</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="461"><highlight class="normal"></highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SELF.isPageAnimating<sp/>=<sp/>NO;</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>}];</highlight></codeline>
<codeline lineno="465"><highlight class="normal">}</highlight></codeline>
<codeline lineno="466"><highlight class="normal"></highlight></codeline>
<codeline lineno="467" refid="interface_pxe_player_page_view_controller_1a74be84589bce81321372227d27cea5b9" refkind="member"><highlight class="normal">-(BOOL)<ref refid="interface_pxe_player_page_view_controller_1a74be84589bce81321372227d27cea5b9" kindref="member">hasPrevious</ref><sp/>{</highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>isFirstPage];</highlight></codeline>
<codeline lineno="469"><highlight class="normal">}</highlight></codeline>
<codeline lineno="470"><highlight class="normal"></highlight></codeline>
<codeline lineno="471" refid="interface_pxe_player_page_view_controller_1ab7e8d7fae4dcf5f87529e4468e5ad287" refkind="member"><highlight class="normal">-(BOOL)<ref refid="interface_pxe_player_page_view_controller_1ab7e8d7fae4dcf5f87529e4468e5ad287" kindref="member">hasNext</ref><sp/>{</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>isLastPage];</highlight></codeline>
<codeline lineno="473"><highlight class="normal">}</highlight></codeline>
<codeline lineno="474"><highlight class="normal"></highlight></codeline>
<codeline lineno="475" refid="interface_pxe_player_page_view_controller_1a98135b6e1b2dd17973b2db1ee47cb186" refkind="member"><highlight class="normal">-(NSNumber*)<ref refid="interface_pxe_player_page_view_controller_1a98135b6e1b2dd17973b2db1ee47cb186" kindref="member">getCurrentPageNumber</ref></highlight></codeline>
<codeline lineno="476"><highlight class="normal">{</highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager)<sp/>{</highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>nil;</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/>NSNumber<sp/>*pageNumber<sp/>=<sp/>[NSNumber<sp/>numberWithInteger:[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/><ref refid="interface_pxe_player_page_view_controller_1a98135b6e1b2dd17973b2db1ee47cb186" kindref="member">getCurrentPageNumber</ref>]];</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pageNumber;</highlight></codeline>
<codeline lineno="483"><highlight class="normal">}</highlight></codeline>
<codeline lineno="484"><highlight class="normal"></highlight></codeline>
<codeline lineno="485" refid="interface_pxe_player_page_view_controller_1ae7cfbbed2cb483ece5385144dd4aa6a1" refkind="member"><highlight class="normal">-(NSUInteger)<ref refid="interface_pxe_player_page_view_controller_1ae7cfbbed2cb483ece5385144dd4aa6a1" kindref="member">getTotalPagesCount</ref></highlight></codeline>
<codeline lineno="486"><highlight class="normal">{</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager)<sp/>{</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/><ref refid="interface_pxe_player_page_view_controller_1ae7cfbbed2cb483ece5385144dd4aa6a1" kindref="member">getTotalPagesCount</ref>];</highlight></codeline>
<codeline lineno="492"><highlight class="normal">}</highlight></codeline>
<codeline lineno="493"><highlight class="normal"></highlight></codeline>
<codeline lineno="494" refid="interface_pxe_player_page_view_controller_1a31022922e291d882cc1bcf6d72f267fe" refkind="member"><highlight class="normal">-(void)gotoPageWithContentID:(NSString*)pageId</highlight></codeline>
<codeline lineno="495"><highlight class="normal">{</highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/>NSString<sp/>*curPage<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>gotoPageByPageId:pageId];</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(curPage)<sp/>{</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>setCurrentPage:curPage<sp/>andPageId:nil<sp/>withHighlights:nil];</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[NSNotificationCenter<sp/>defaultCenter]<sp/>postNotificationName:PXEPLAYER_PAGE_NOT_FOUND<sp/>object:pageId<sp/>userInfo:<sp/>@{<sp/>NSLocalizedDescriptionKey<sp/>:<sp/>NSLocalizedString(@&quot;Page<sp/>not<sp/>available&quot;,@&quot;Page<sp/>not<sp/>available&quot;)<sp/>}];</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="503"><highlight class="normal">}</highlight></codeline>
<codeline lineno="504"><highlight class="normal"></highlight></codeline>
<codeline lineno="505"><highlight class="normal"></highlight></codeline>
<codeline lineno="506" refid="interface_pxe_player_page_view_controller_1a0e1cda32a90e77d3383f53329100e22f" refkind="member"><highlight class="normal">-(void)gotoPageWithPageURL:(NSString*)pageUrl<sp/>{</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/><ref refid="interface_pxe_player_page_view_controller_1aa2cb3d55fb9db0d8f1e7b76b071016d0" kindref="member">gotoPageWithPageURL</ref>:pageUrl<sp/><ref refid="interface_pxe_player_page_view_controller_1aa2cb3d55fb9db0d8f1e7b76b071016d0" kindref="member">andHighlightLabels</ref>:nil];</highlight></codeline>
<codeline lineno="508"><highlight class="normal">}</highlight></codeline>
<codeline lineno="509"><highlight class="normal"></highlight></codeline>
<codeline lineno="510" refid="interface_pxe_player_page_view_controller_1ad0f33745ff3ff26d40bd8f0e62058ace" refkind="member"><highlight class="normal">-(void)gotoPageWithPageId:(NSString*)pageId<sp/>withURL:(NSString*)pageURL</highlight></codeline>
<codeline lineno="511"><highlight class="normal">{</highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/>NSString<sp/>*curPage<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>getCurrentPage];</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">([curPage<sp/>isEqualToString:pageURL])</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface_pxe_player_page_content_view_controller" kindref="compound">PxePlayerPageContentViewController</ref><sp/>*contentController<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pagesContainer<sp/>objectForKey:curPage];</highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(contentController)<sp/>{</highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[contentController<sp/><ref refid="interface_pxe_player_page_content_view_controller_1a83dc743081b3625226cae810fbe027a5" kindref="member">gotoURLTag</ref>:pageId];</highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/><sp/><sp/>NSString<sp/>*newPage<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>gotoPageByPageURL:pageURL];</highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(newPage)<sp/>{</highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>setCurrentPage:newPage<sp/>andPageId:pageId<sp/>withHighlights:nil];</highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[NSNotificationCenter<sp/>defaultCenter]<sp/>postNotificationName:PXEPLAYER_PAGE_NOT_FOUND<sp/>object:pageURL<sp/>userInfo:<sp/>@{<sp/>NSLocalizedDescriptionKey<sp/>:<sp/>NSLocalizedString(@&quot;Page<sp/>not<sp/>available&quot;,@&quot;Page<sp/>not<sp/>available&quot;)<sp/>}];</highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="529"><highlight class="normal">}</highlight></codeline>
<codeline lineno="530"><highlight class="normal"></highlight></codeline>
<codeline lineno="531" refid="interface_pxe_player_page_view_controller_1aa2cb3d55fb9db0d8f1e7b76b071016d0" refkind="member"><highlight class="normal">-(void)gotoPageWithPageURL:(NSString<sp/>*)pageUrl<sp/>andHighlightLabels:(NSArray*)labels</highlight></codeline>
<codeline lineno="532"><highlight class="normal">{</highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/>DLog(</highlight><highlight class="stringliteral">@&quot;URL<sp/>%@&quot;</highlight><highlight class="normal">,pageUrl);</highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/>NSString<sp/>*curPage<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>gotoPageByPageURL:pageUrl];</highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(curPage)<sp/>{</highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>setCurrentPage:curPage<sp/>andPageId:nil<sp/>withHighlights:labels];</highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[NSNotificationCenter<sp/>defaultCenter]<sp/>postNotificationName:PXEPLAYER_PAGE_NOT_FOUND<sp/>object:pageUrl<sp/>userInfo:<sp/>@{<sp/>NSLocalizedDescriptionKey<sp/>:<sp/>NSLocalizedString(@&quot;Page<sp/>not<sp/>available&quot;,@&quot;Page<sp/>not<sp/>available&quot;)<sp/>}];</highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="541"><highlight class="normal">}</highlight></codeline>
<codeline lineno="542"><highlight class="normal"></highlight></codeline>
<codeline lineno="543"><highlight class="normal"></highlight></codeline>
<codeline lineno="544" refid="interface_pxe_player_page_view_controller_1a8bff4c9f6e912f14863b8fa9f7566910" refkind="member"><highlight class="normal">-(void)<ref refid="interface_pxe_player_page_view_controller_1a8bff4c9f6e912f14863b8fa9f7566910" kindref="member">popHistory</ref><sp/>{</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>setPageFromHistory:[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/><ref refid="interface_pxe_player_page_view_controller_1a8bff4c9f6e912f14863b8fa9f7566910" kindref="member">popHistory</ref>]];</highlight></codeline>
<codeline lineno="546"><highlight class="normal">}</highlight></codeline>
<codeline lineno="547"><highlight class="normal"></highlight></codeline>
<codeline lineno="548" refid="interface_pxe_player_page_view_controller_1ab17a437ea8b74377c0183d0b358402dc" refkind="member"><highlight class="normal">-(NSString*)<ref refid="interface_pxe_player_page_view_controller_1ab17a437ea8b74377c0183d0b358402dc" kindref="member">getCurrentPageURL</ref></highlight></codeline>
<codeline lineno="549"><highlight class="normal">{</highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/><sp/>NSString<sp/>*<sp/>pageUrl<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>getCurrentPage];</highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/><sp/><sp/>NSArray<sp/>*viewControllers<sp/>=<sp/>(NSArray*)[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageViewController<sp/>viewControllers];</highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">([viewControllers<sp/>count])<sp/>{</highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSInteger<sp/>srchIndx<sp/>=<sp/>[viewControllers<sp/>indexOfObjectPassingTest:^BOOL(id<sp/>obj,<sp/>NSUInteger<sp/>idx,<sp/>BOOL<sp/>*stop)<sp/>{</highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>[[(<ref refid="interface_pxe_player_page_content_view_controller" kindref="compound">PxePlayerPageContentViewController</ref>*)<ref refid="interface_pxe_player_page_content_view_controller" kindref="compound">obj</ref><sp/>getPageRelativeURL]<sp/>isEqualToString:pageUrl];</highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}];</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(srchIndx<sp/>!=<sp/>NSNotFound)<sp/>{</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[viewControllers[srchIndx]<sp/>getPageAbsoluteURL];</highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>nil;</highlight></codeline>
<codeline lineno="565"><highlight class="normal">}</highlight></codeline>
<codeline lineno="566"><highlight class="normal"></highlight></codeline>
<codeline lineno="567"><highlight class="normal"></highlight></codeline>
<codeline lineno="568" refid="interface_pxe_player_page_view_controller_1a8b9ce2b2307483d7c2b485afa0621a15" refkind="member"><highlight class="normal">-(void)switchViewMode:(BOOL)toVertical</highlight></codeline>
<codeline lineno="569"><highlight class="normal">{</highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//add<sp/>the<sp/>page<sp/>view<sp/>controler</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/>NSDictionary<sp/>*spineOptions<sp/>=<sp/>[NSDictionary<sp/>dictionaryWithObject:[NSNumber<sp/>numberWithInteger:UIPageViewControllerSpineLocationMin]<sp/>forKey:UIPageViewControllerOptionSpineLocationKey];</highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/>UIPageViewController<sp/>*pageController<sp/>=<sp/>nil;</highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(toVertical)<sp/>{</highlight></codeline>
<codeline lineno="575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pageController<sp/>=<sp/>[[UIPageViewController<sp/>alloc]<sp/>initWithTransitionStyle:UIPageViewControllerTransitionStyleScroll</highlight></codeline>
<codeline lineno="576"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>navigationOrientation:UIPageViewControllerNavigationOrientationVertical<sp/>options:spineOptions];</highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pageController<sp/>=<sp/>[[UIPageViewController<sp/>alloc]<sp/>initWithTransitionStyle:UIPageViewControllerTransitionStylePageCurl</highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>navigationOrientation:UIPageViewControllerNavigationOrientationHorizontal<sp/>options:spineOptions];</highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="583"><highlight class="normal"><sp/><sp/><sp/><sp/>[pageController<sp/>setDataSource:self];</highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/><sp/><sp/>[pageController<sp/>setDelegate:self];</highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>didMoveToParentViewController:pageController];</highlight></codeline>
<codeline lineno="586"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>addChildViewController:pageController];</highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageViewController)</highlight></codeline>
<codeline lineno="589"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="590"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageViewController<sp/>=<sp/>pageController;</highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.view<sp/>insertSubview:self.pageViewController.view<sp/>atIndex:0];</highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[pageController.view<sp/>setFrame:self.pageViewController.view.frame];</highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>__weak<sp/>__block<sp/><ref refid="interface_pxe_player_page_view_controller" kindref="compound">PxePlayerPageViewController</ref><sp/>*weakSelf<sp/>=<sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSArray<sp/>*viewControllers<sp/>=<sp/><sp/>[NSArray<sp/>arrayWithArray:[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageViewController<sp/>viewControllers]];</highlight></codeline>
<codeline lineno="599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>transitionFromViewController:self.pageViewController<sp/>toViewController:pageController</highlight></codeline>
<codeline lineno="600"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>duration:0.01f<sp/>options:UIViewAnimationOptionTransitionNone</highlight></codeline>
<codeline lineno="601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>animations:nil<sp/>completion:^(BOOL<sp/>finished)</highlight></codeline>
<codeline lineno="602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[weakSelf.pageViewController<sp/>willMoveToParentViewController:nil];</highlight></codeline>
<codeline lineno="604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[weakSelf.pageViewController<sp/>removeFromParentViewController];</highlight></codeline>
<codeline lineno="605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>weakSelf.pageViewController<sp/>=<sp/>pageController;</highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.view<sp/>insertSubview:self.pageViewController.view<sp/>atIndex:0];</highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageViewController<sp/>setViewControllers:viewControllers<sp/>direction:UIPageViewControllerNavigationDirectionForward<sp/>animated:NO<sp/>completion:^(BOOL<sp/>finished)<sp/>{</highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}];</highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}];</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.isPageAnimating<sp/>=<sp/>NO;</highlight></codeline>
<codeline lineno="615"><highlight class="normal">}</highlight></codeline>
<codeline lineno="616"><highlight class="normal"></highlight></codeline>
<codeline lineno="617" refid="interface_pxe_player_page_view_controller_1ad94e55ba622c0c1f455f3eb025ab3d90" refkind="member"><highlight class="normal">-(void)jumpToPage:(NSNumber*)pageNumber</highlight></codeline>
<codeline lineno="618"><highlight class="normal">{</highlight></codeline>
<codeline lineno="619"><highlight class="normal"><sp/><sp/><sp/><sp/>NSString<sp/>*currentPage<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>gotoPageByPageNumber:pageNumber];</highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(currentPage)<sp/>{</highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>setCurrentPage:currentPage<sp/>andPageId:nil<sp/>withHighlights:nil];</highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="623"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[NSNotificationCenter<sp/>defaultCenter]<sp/>postNotificationName:PXEPLAYER_PAGE_FAILED<sp/>object:pageNumber<sp/>userInfo:<sp/>@{<sp/>NSLocalizedDescriptionKey<sp/>:<sp/>NSLocalizedString(@&quot;sorry<sp/>page<sp/>not<sp/>found&quot;,@&quot;sorry<sp/>page<sp/>not<sp/>found&quot;)<sp/>}];<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="626"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="627"><highlight class="normal">}</highlight></codeline>
<codeline lineno="628"><highlight class="normal"></highlight></codeline>
<codeline lineno="629"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>mark<sp/>-<sp/>Page<sp/>manager<sp/>delegate<sp/>methods</highlight></codeline>
<codeline lineno="630"><highlight class="preprocessor"></highlight></codeline>
<codeline lineno="637"><highlight class="normal">-(void)pagesAdded:(NSArray*)pages</highlight></codeline>
<codeline lineno="638"><highlight class="normal">{</highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//preload<sp/>the<sp/>new<sp/>pages<sp/>for<sp/>display</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="640"><highlight class="normal"><sp/><sp/><sp/><sp/>NSOperationQueue<sp/>*operationQueue<sp/>=<sp/>[[NSOperationQueue<sp/>alloc]<sp/>init];</highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/><sp/><sp/>[operationQueue<sp/>setMaxConcurrentOperationCount:1];</highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(NSString<sp/>*page<sp/>in<sp/>pages)</highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface_pxe_player_page_content_view_controller" kindref="compound">PxePlayerPageContentViewController</ref><sp/>*contentController<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pagesContainer<sp/>objectForKey:page];</highlight></codeline>
<codeline lineno="646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!contentController)</highlight></codeline>
<codeline lineno="647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>contentController<sp/>=<sp/>[[<ref refid="interface_pxe_player_page_content_view_controller" kindref="compound">PxePlayerPageContentViewController</ref><sp/>alloc]<sp/>initWithPage:page<sp/>withFrame:self.pageViewController.view.bounds<sp/>andDelegate:self];</highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(page)<sp/>{</highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pagesContainer<sp/>setObject:contentController<sp/>forKey:page];</highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//remove<sp/>expired<sp/>pages</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/>NSArray<sp/>*existPages<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pagesContainer<sp/>allKeys];</highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(NSString<sp/>*existPage<sp/>in<sp/>existPages)</highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSInteger<sp/>pageIndex<sp/>=<sp/>[pages<sp/>indexOfObjectPassingTest:^BOOL(id<sp/>obj,<sp/>NSUInteger<sp/>idx,<sp/>BOOL<sp/>*stop)<sp/>{</highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>[(NSString*)obj<sp/>isEqualToString:existPage];</highlight></codeline>
<codeline lineno="662"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}];</highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(pageIndex<sp/>==<sp/>NSNotFound){</highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pagesContainer<sp/>removeObjectForKey:existPage];</highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="667"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="669"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/><sp/>NSArray<sp/>*allKeys<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pagesContainer<sp/>allKeys];</highlight></codeline>
<codeline lineno="671"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(NSString<sp/>*key<sp/>in<sp/>allKeys)</highlight></codeline>
<codeline lineno="672"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface_pxe_player_page_content_view_controller" kindref="compound">PxePlayerPageContentViewController</ref><sp/>*contentController<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pagesContainer<sp/>objectForKey:key];</highlight></codeline>
<codeline lineno="674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[operationQueue<sp/>addOperationWithBlock:^{</highlight></codeline>
<codeline lineno="675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[NSOperationQueue<sp/>mainQueue]<sp/>addOperationWithBlock:^{</highlight></codeline>
<codeline lineno="676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[contentController<sp/>view];</highlight></codeline>
<codeline lineno="677"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}];</highlight></codeline>
<codeline lineno="678"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}];</highlight></codeline>
<codeline lineno="679"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="680"><highlight class="normal">}</highlight></codeline>
<codeline lineno="681"><highlight class="normal"></highlight></codeline>
<codeline lineno="688"><highlight class="normal">-(void)pageDownloaded:(NSString*)page</highlight></codeline>
<codeline lineno="689"><highlight class="normal">{</highlight></codeline>
<codeline lineno="690"><highlight class="normal"><sp/><sp/><sp/><sp/>NSArray<sp/>*viewControllers<sp/>=<sp/>(NSArray*)[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageViewController<sp/>viewControllers];</highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/><sp/><sp/>NSInteger<sp/>srchIndx<sp/>=<sp/>[viewControllers<sp/>indexOfObjectPassingTest:^BOOL(id<sp/>obj,<sp/>NSUInteger<sp/>idx,<sp/>BOOL<sp/>*stop)</highlight></codeline>
<codeline lineno="692"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(![obj<sp/>isKindOfClass:[<ref refid="interface_pxe_player_page_content_view_controller" kindref="compound">PxePlayerPageContentViewController</ref><sp/>class]])<sp/>{</highlight></codeline>
<codeline lineno="694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>NO;</highlight></codeline>
<codeline lineno="695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>[[(<ref refid="interface_pxe_player_page_content_view_controller" kindref="compound">PxePlayerPageContentViewController</ref>*)<ref refid="interface_pxe_player_page_content_view_controller" kindref="compound">obj</ref><sp/>getPageRelativeURL]<sp/>isEqualToString:page];</highlight></codeline>
<codeline lineno="698"><highlight class="normal"><sp/><sp/><sp/><sp/>}];</highlight></codeline>
<codeline lineno="699"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="700"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(srchIndx<sp/>!=<sp/>NSNotFound)<sp/>{<sp/><sp/><sp/></highlight><highlight class="comment">//current<sp/>page</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[viewControllers[srchIndx]<sp/>loadPage];</highlight></codeline>
<codeline lineno="702"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="703"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{<sp/><sp/></highlight><highlight class="comment">//cached<sp/>page</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="704"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface_pxe_player_page_content_view_controller" kindref="compound">PxePlayerPageContentViewController</ref><sp/>*contentController<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pagesContainer<sp/>objectForKey:page];</highlight></codeline>
<codeline lineno="705"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[contentController<sp/><ref refid="interface_pxe_player_page_content_view_controller_1ac48e24862e5965de2e8bb122207a54e7" kindref="member">loadPage</ref>];</highlight></codeline>
<codeline lineno="706"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="707"><highlight class="normal">}</highlight></codeline>
<codeline lineno="708"><highlight class="normal"></highlight></codeline>
<codeline lineno="715"><highlight class="normal">-(void)pageDownloadFailed:(NSError<sp/>*)error</highlight></codeline>
<codeline lineno="716"><highlight class="normal">{</highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/><sp/><sp/>[[NSNotificationCenter<sp/>defaultCenter]<sp/>postNotificationName:PXEPLAYER_PAGE_FAILED<sp/>object:error.localizedDescription<sp/>userInfo:<sp/>@{<sp/>NSLocalizedDescriptionKey<sp/>:<sp/>NSLocalizedString(@&quot;Page<sp/>download<sp/>failed&quot;,@&quot;Page<sp/>download<sp/>failed&quot;)<sp/>}];</highlight></codeline>
<codeline lineno="718"><highlight class="normal">}</highlight></codeline>
<codeline lineno="719"><highlight class="normal"></highlight></codeline>
<codeline lineno="726"><highlight class="normal">-(void)contentsDownloadFailed:(NSError<sp/>*)error</highlight></codeline>
<codeline lineno="727"><highlight class="normal">{</highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(</highlight><highlight class="keyword">self</highlight><highlight class="normal">.loadingView)<sp/>{</highlight></codeline>
<codeline lineno="729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.loadingView<sp/>removeFromSuperview];</highlight></codeline>
<codeline lineno="730"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="731"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.loadingView<sp/>=<sp/>nil;</highlight></codeline>
<codeline lineno="732"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="733"><highlight class="normal"><sp/><sp/><sp/><sp/>[[NSNotificationCenter<sp/>defaultCenter]<sp/>postNotificationName:PXEPLAYER_PAGE_FAILED<sp/>object:error.localizedDescription<sp/>userInfo:<sp/>@{<sp/>NSLocalizedDescriptionKey<sp/>:<sp/>NSLocalizedString(@&quot;Content<sp/>download<sp/>failed&quot;,@&quot;Content<sp/>download<sp/>failed&quot;)<sp/>}];</highlight></codeline>
<codeline lineno="734"><highlight class="normal">}</highlight></codeline>
<codeline lineno="735"><highlight class="normal"></highlight></codeline>
<codeline lineno="741"><highlight class="normal">-(void)contentsDownloadSuccess<sp/>{</highlight></codeline>
<codeline lineno="742"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>initializePages];</highlight></codeline>
<codeline lineno="743"><highlight class="normal">}</highlight></codeline>
<codeline lineno="744"><highlight class="normal"></highlight></codeline>
<codeline lineno="745"><highlight class="normal"></highlight></codeline>
<codeline lineno="746"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>mark<sp/>-<sp/>Pagesview<sp/>delegate<sp/>methods</highlight></codeline>
<codeline lineno="747"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="748"><highlight class="normal">-<sp/>(void)pageViewController:(UIPageViewController<sp/>*)pageViewController<sp/>willTransitionToViewControllers:(NSArray<sp/>*)pendingViewControllers<sp/>{</highlight></codeline>
<codeline lineno="749"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.isPageAnimating<sp/>=<sp/>YES;</highlight></codeline>
<codeline lineno="750"><highlight class="normal">}</highlight></codeline>
<codeline lineno="751"><highlight class="normal"></highlight></codeline>
<codeline lineno="752"><highlight class="normal">-<sp/>(UIViewController<sp/>*)pageViewController:(UIPageViewController<sp/>*)pageViewController<sp/>viewControllerBeforeViewController:(UIViewController<sp/>*)viewController</highlight></codeline>
<codeline lineno="753"><highlight class="normal">{</highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/><sp/>UIViewController<sp/>*contentController<sp/>=<sp/>nil;</highlight></codeline>
<codeline lineno="755"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="756"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(</highlight><highlight class="keyword">self</highlight><highlight class="normal">.isPageAnimating<sp/>||<sp/>(!</highlight><highlight class="keyword">self</highlight><highlight class="normal">.shouldAllowPageSwipe))<sp/>{</highlight></codeline>
<codeline lineno="757"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><sp/>contentController;</highlight></codeline>
<codeline lineno="758"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="759"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="760"><highlight class="normal"><sp/><sp/><sp/><sp/>NSString<sp/>*prevPage<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>prevPage];</highlight></codeline>
<codeline lineno="761"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(prevPage)</highlight></codeline>
<codeline lineno="762"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>contentController<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pagesContainer<sp/>objectForKey:prevPage];</highlight></codeline>
<codeline lineno="764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!contentController)</highlight></codeline>
<codeline lineno="765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>contentController<sp/>=<sp/>[[<ref refid="interface_pxe_player_page_content_view_controller" kindref="compound">PxePlayerPageContentViewController</ref><sp/>alloc]<sp/>initWithPage:prevPage<sp/>withFrame:self.pageViewController.view.bounds<sp/>andDelegate:self];</highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pagesContainer<sp/>setObject:contentController<sp/>forKey:prevPage];</highlight></codeline>
<codeline lineno="768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="769"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="770"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="771"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>contentController;</highlight></codeline>
<codeline lineno="772"><highlight class="normal">}</highlight></codeline>
<codeline lineno="773"><highlight class="normal"></highlight></codeline>
<codeline lineno="774"><highlight class="normal"></highlight></codeline>
<codeline lineno="775"><highlight class="normal">-<sp/>(UIViewController<sp/>*)pageViewController:<sp/>(UIPageViewController<sp/>*)pageViewController<sp/>viewControllerAfterViewController:(UIViewController<sp/>*)viewController</highlight></codeline>
<codeline lineno="776"><highlight class="normal">{</highlight></codeline>
<codeline lineno="777"><highlight class="normal"><sp/><sp/><sp/><sp/>UIViewController<sp/>*contentController<sp/>=<sp/>nil;</highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="779"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(</highlight><highlight class="keyword">self</highlight><highlight class="normal">.isPageAnimating<sp/>||<sp/>(!</highlight><highlight class="keyword">self</highlight><highlight class="normal">.shouldAllowPageSwipe))<sp/>{</highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><sp/>contentController;</highlight></codeline>
<codeline lineno="781"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="783"><highlight class="normal"><sp/><sp/><sp/><sp/>NSString<sp/>*nextPage<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>nextPage];</highlight></codeline>
<codeline lineno="784"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nextPage)</highlight></codeline>
<codeline lineno="785"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>contentController<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pagesContainer<sp/>objectForKey:nextPage];</highlight></codeline>
<codeline lineno="787"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!contentController)</highlight></codeline>
<codeline lineno="788"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="789"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>contentController<sp/>=<sp/>[[<ref refid="interface_pxe_player_page_content_view_controller" kindref="compound">PxePlayerPageContentViewController</ref><sp/>alloc]<sp/>initWithPage:nextPage<sp/>withFrame:self.pageViewController.view.bounds<sp/>andDelegate:self];</highlight></codeline>
<codeline lineno="790"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pagesContainer<sp/>setObject:contentController<sp/>forKey:nextPage];</highlight></codeline>
<codeline lineno="791"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="792"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="793"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>contentController;</highlight></codeline>
<codeline lineno="794"><highlight class="normal">}</highlight></codeline>
<codeline lineno="795"><highlight class="normal"></highlight></codeline>
<codeline lineno="796"><highlight class="normal">-<sp/>(void)pageViewController:(UIPageViewController<sp/>*)pageViewController<sp/>didFinishAnimating:(BOOL)finished<sp/>previousViewControllers:(NSArray<sp/>*)previousViewControllers<sp/>transitionCompleted:(BOOL)completed</highlight></codeline>
<codeline lineno="797"><highlight class="normal">{</highlight></codeline>
<codeline lineno="798"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(completed)</highlight></codeline>
<codeline lineno="799"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="800"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>pageDidLoad];</highlight></codeline>
<codeline lineno="801"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="802"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>([[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/><ref refid="interface_pxe_player_page_view_controller_1a2aa145c2a06f8708869f4a3d7e7aad1d" kindref="member">delegate</ref>]<sp/>respondsToSelector:</highlight><highlight class="keyword">@selector</highlight><highlight class="normal">(updatePageViewUI:orLastPage:andPageNumber:)])<sp/>{</highlight></codeline>
<codeline lineno="803"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>delegate]<sp/>updatePageViewUI:[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>hasPrevious]<sp/>orLastPage:[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>hasNext]<sp/>andPageNumber:[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>getCurrentPageNumber]];</highlight></codeline>
<codeline lineno="804"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="805"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="806"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="807"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.isPageAnimating<sp/>=<sp/>NO;</highlight></codeline>
<codeline lineno="808"><highlight class="normal">}</highlight></codeline>
<codeline lineno="809"><highlight class="normal"></highlight></codeline>
<codeline lineno="810"><highlight class="normal"></highlight></codeline>
<codeline lineno="811"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>mark<sp/>-<sp/>Page<sp/>Content<sp/>delegate<sp/>methods</highlight></codeline>
<codeline lineno="812"><highlight class="preprocessor"></highlight></codeline>
<codeline lineno="819"><highlight class="normal">-(BOOL)loadPageWithRelativeURL:(NSString*)relativeURL</highlight></codeline>
<codeline lineno="820"><highlight class="normal">{</highlight></codeline>
<codeline lineno="821"><highlight class="normal"><sp/><sp/><sp/><sp/>NSString<sp/>*curPage<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>gotoPageByPageURL:relativeURL];</highlight></codeline>
<codeline lineno="822"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(curPage)<sp/>{</highlight></codeline>
<codeline lineno="823"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>setCurrentPage:curPage<sp/>andPageId:nil<sp/>withHighlights:nil];</highlight></codeline>
<codeline lineno="824"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>YES;</highlight></codeline>
<codeline lineno="825"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="826"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="827"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[NSNotificationCenter<sp/>defaultCenter]<sp/>postNotificationName:PXEPLAYER_PAGE_NOT_FOUND<sp/>object:relativeURL<sp/>userInfo:<sp/>@{<sp/>NSLocalizedDescriptionKey<sp/>:<sp/>NSLocalizedString(@&quot;Page<sp/>not<sp/>available&quot;,@&quot;Page<sp/>not<sp/>available&quot;)<sp/>}];</highlight></codeline>
<codeline lineno="828"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="829"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="830"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NO;</highlight></codeline>
<codeline lineno="831"><highlight class="normal">}</highlight></codeline>
<codeline lineno="832"><highlight class="normal"></highlight></codeline>
<codeline lineno="837"><highlight class="normal">-(BOOL)isPageAvailable:(NSString*)relativeURL<sp/>{</highlight></codeline>
<codeline lineno="838"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>([</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>gotoPageByPageURL:relativeURL]<sp/>==<sp/>nil)<sp/>?<sp/>NO<sp/>:<sp/>YES;</highlight></codeline>
<codeline lineno="839"><highlight class="normal">}</highlight></codeline>
<codeline lineno="840"><highlight class="normal"></highlight></codeline>
<codeline lineno="845"><highlight class="normal">-(void)loadBrowserWithURL:(NSString<sp/>*)relativeURL</highlight></codeline>
<codeline lineno="846"><highlight class="normal">{</highlight></codeline>
<codeline lineno="847"><highlight class="normal"><sp/><sp/><sp/><sp/>NSBundle<sp/>*resourceBundle<sp/>=<sp/>[NSBundle<sp/>bundleWithPath:[[NSBundle<sp/>mainBundle]<sp/>pathForResource:kDataBundleName<sp/>ofType:@&quot;bundle&quot;]];</highlight></codeline>
<codeline lineno="848"><highlight class="normal"><sp/><sp/><sp/><sp/>[resourceBundle<sp/>load];</highlight></codeline>
<codeline lineno="849"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="850"><highlight class="normal"><sp/><sp/><sp/><sp/>UIStoryboard<sp/>*sb<sp/>=<sp/>[UIStoryboard<sp/>storyboardWithName:@&quot;PxeReaderStoryboard&quot;<sp/>bundle:resourceBundle];</highlight></codeline>
<codeline lineno="851"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="852"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="interface_pxe_player_light_box_view_controller" kindref="compound">PxePlayerLightBoxViewController</ref>*<sp/>lightBox<sp/>=<sp/>[sb<sp/>instantiateViewControllerWithIdentifier:@&quot;LIGHTBOX&quot;];</highlight></codeline>
<codeline lineno="853"><highlight class="normal"><sp/><sp/><sp/><sp/>lightBox.<ref refid="interface_pxe_player_light_box_view_controller_1a0603939be7a9337d50eedf4e1b5116bf" kindref="member">boxInfo</ref><sp/>=<sp/>@{</highlight><highlight class="stringliteral">@&quot;type&quot;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">@&quot;gadget&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">@&quot;contentUrl&quot;</highlight><highlight class="normal">:relativeURL};</highlight></codeline>
<codeline lineno="854"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="855"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>presentViewController:lightBox<sp/>animated:YES<sp/>completion:nil];</highlight></codeline>
<codeline lineno="856"><highlight class="normal">}</highlight></codeline>
<codeline lineno="857"><highlight class="normal"></highlight></codeline>
<codeline lineno="862"><highlight class="normal">-(void)pageContentDidLoad:(NSString*)loadedPage</highlight></codeline>
<codeline lineno="863"><highlight class="normal">{</highlight></codeline>
<codeline lineno="864"><highlight class="normal"><sp/><sp/><sp/><sp/>NSString<sp/>*curPage<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>getCurrentPage];</highlight></codeline>
<codeline lineno="865"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">([curPage<sp/>isEqualToString:loadedPage])<sp/>{</highlight></codeline>
<codeline lineno="866"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[NSNotificationCenter<sp/>defaultCenter]<sp/>postNotificationName:PXEPLAYER_PAGE_LOADED<sp/>object:nil<sp/>userInfo:@{PXEPLAYER_LOADED_PAGE<sp/>:<sp/>loadedPage}];</highlight></codeline>
<codeline lineno="867"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="868"><highlight class="normal">}</highlight></codeline>
<codeline lineno="869"><highlight class="normal"></highlight></codeline>
<codeline lineno="874"><highlight class="normal">-(void)pageContentLoading:(NSString*)loadingPage</highlight></codeline>
<codeline lineno="875"><highlight class="normal">{</highlight></codeline>
<codeline lineno="876"><highlight class="normal"><sp/><sp/><sp/><sp/>NSString<sp/>*curPage<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>getCurrentPage];</highlight></codeline>
<codeline lineno="877"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="878"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">([curPage<sp/>isEqualToString:loadingPage])<sp/>{</highlight></codeline>
<codeline lineno="879"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[NSNotificationCenter<sp/>defaultCenter]<sp/>postNotificationName:PXEPLAYER_PAGE_LOADING<sp/>object:nil<sp/>userInfo:@{PXEPLAYER_LOADED_PAGE<sp/>:<sp/>loadingPage}];</highlight></codeline>
<codeline lineno="880"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="881"><highlight class="normal">}</highlight></codeline>
<codeline lineno="882"><highlight class="normal"></highlight></codeline>
<codeline lineno="887"><highlight class="normal">-(void)pageLoadFailed:(NSString*)pageURL</highlight></codeline>
<codeline lineno="888"><highlight class="normal">{</highlight></codeline>
<codeline lineno="889"><highlight class="normal"><sp/><sp/><sp/><sp/>NSString<sp/>*curPage<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>getCurrentPage];</highlight></codeline>
<codeline lineno="890"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">([curPage<sp/>isEqualToString:pageURL])</highlight></codeline>
<codeline lineno="891"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="892"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[NSNotificationCenter<sp/>defaultCenter]<sp/>postNotificationName:PXEPLAYER_PAGE_FAILED<sp/>object:nil<sp/>userInfo:@{PXEPLAYER_FAILED_PAGE<sp/>:<sp/>pageURL}];</highlight></codeline>
<codeline lineno="893"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="894"><highlight class="normal">}</highlight></codeline>
<codeline lineno="895"><highlight class="normal"></highlight></codeline>
<codeline lineno="900" refid="interface_pxe_player_page_view_controller_1a1d44823b8e79857f80749ebf251d9198" refkind="member"><highlight class="normal">-(void)setBookPageFontSize:(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)fontSize</highlight></codeline>
<codeline lineno="901"><highlight class="normal">{</highlight></codeline>
<codeline lineno="902"><highlight class="normal"><sp/><sp/><sp/><sp/>[[<ref refid="class_pxe_player" kindref="compound">PxePlayer</ref><sp/>sharedInstance]<sp/>setPageFontSize:fontSize];</highlight></codeline>
<codeline lineno="903"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<ref refid="interface_pxe_player_page_content_view_controller" kindref="compound">PxePlayerPageContentViewController</ref>*<sp/>vc<sp/>in<sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageViewController.viewControllers)<sp/>{</highlight></codeline>
<codeline lineno="904"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[vc<sp/>updateFont];</highlight></codeline>
<codeline lineno="905"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="906"><highlight class="normal">}</highlight></codeline>
<codeline lineno="907"><highlight class="normal"></highlight></codeline>
<codeline lineno="913" refid="interface_pxe_player_page_view_controller_1a382176f9c765a985289f223da4203a30" refkind="member"><highlight class="normal">-(void)setBookPageTheme:(NSString*)theme</highlight></codeline>
<codeline lineno="914"><highlight class="normal">{</highlight></codeline>
<codeline lineno="915"><highlight class="normal"><sp/><sp/><sp/><sp/>[[<ref refid="class_pxe_player" kindref="compound">PxePlayer</ref><sp/>sharedInstance]<sp/>setPageTheme:theme];</highlight></codeline>
<codeline lineno="916"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<ref refid="interface_pxe_player_page_content_view_controller" kindref="compound">PxePlayerPageContentViewController</ref>*<sp/>vc<sp/>in<sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageViewController.viewControllers)<sp/>{</highlight></codeline>
<codeline lineno="917"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[vc<sp/>updateTheme];</highlight></codeline>
<codeline lineno="918"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="919"><highlight class="normal">}</highlight></codeline>
<codeline lineno="920"><highlight class="normal"></highlight></codeline>
<codeline lineno="926" refid="interface_pxe_player_page_view_controller_1a455fa7a207f1302e1c3ffb12ebb537dc" refkind="member"><highlight class="normal">-(void)setAnnotationLabel:(NSString*)label</highlight></codeline>
<codeline lineno="927"><highlight class="normal">{</highlight></codeline>
<codeline lineno="928"><highlight class="normal"><sp/><sp/><sp/><sp/>NSString<sp/>*<sp/>pageUrl<sp/>=<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageManager<sp/>getCurrentPage];</highlight></codeline>
<codeline lineno="929"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="930"><highlight class="normal"><sp/><sp/><sp/><sp/>NSArray<sp/>*viewControllers<sp/>=<sp/>(NSArray*)[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageViewController<sp/>viewControllers];</highlight></codeline>
<codeline lineno="931"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">([viewControllers<sp/>count])</highlight></codeline>
<codeline lineno="932"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="933"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSInteger<sp/>srchIndx<sp/>=<sp/>[viewControllers<sp/>indexOfObjectPassingTest:^BOOL(id<sp/>obj,<sp/>NSUInteger<sp/>idx,<sp/>BOOL<sp/>*stop)<sp/>{</highlight></codeline>
<codeline lineno="934"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>[[(<ref refid="interface_pxe_player_page_content_view_controller" kindref="compound">PxePlayerPageContentViewController</ref>*)<ref refid="interface_pxe_player_page_content_view_controller" kindref="compound">obj</ref><sp/>getPageRelativeURL]<sp/>isEqualToString:pageUrl];</highlight></codeline>
<codeline lineno="935"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}];</highlight></codeline>
<codeline lineno="936"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="937"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(srchIndx<sp/>!=<sp/>NSNotFound)</highlight></codeline>
<codeline lineno="938"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="939"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface_pxe_player_page_content_view_controller" kindref="compound">PxePlayerPageContentViewController</ref><sp/>*contentController<sp/>=<sp/>viewControllers[srchIndx];</highlight></codeline>
<codeline lineno="940"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[contentController<sp/><ref refid="interface_pxe_player_page_content_view_controller_1a1cd7abe0cc5c6ed1fe9251a8e6e32d43" kindref="member">setAnnotationLabel</ref>:label];</highlight></codeline>
<codeline lineno="941"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="942"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="943"><highlight class="normal">}</highlight></codeline>
<codeline lineno="944"><highlight class="normal"></highlight></codeline>
<codeline lineno="949"><highlight class="normal">-(NSUInteger)scalePageToFit<sp/>{</highlight></codeline>
<codeline lineno="950"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.scalePage;</highlight></codeline>
<codeline lineno="951"><highlight class="normal">}</highlight></codeline>
<codeline lineno="952"><highlight class="normal"></highlight></codeline>
<codeline lineno="953"><highlight class="normal"></highlight><highlight class="keyword">@end</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="954"><highlight class="normal"></highlight></codeline>
<codeline lineno="955"><highlight class="normal"></highlight></codeline>
<codeline lineno="956"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="/Users/TITANIUM/Projects/pxereaderios/PxeReaderSDK/PxePlayerApiUI/PxePlayerPageViewController.m"/>
  </compounddef>
</doxygen>
