<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.4">
  <compounddef id="_pxe_player_page_content_view_controller_8m" kind="file">
    <compoundname>PxePlayerPageContentViewController.m</compoundname>
    <includes refid="_pxe_player_page_content_view_controller_8h" local="yes">PxePlayerPageContentViewController.h</includes>
    <includes refid="_pxe_player_pages_web_view_8h" local="yes">PxePlayerPagesWebView.h</includes>
    <includes refid="_pxe_player_loading_view_8h" local="yes">PxePlayerLoadingView.h</includes>
    <includes refid="_pxe_player_8h" local="yes">PxePlayer.h</includes>
    <includes refid="_pxe_player_u_i_constants_8h" local="yes">PxePlayerUIConstants.h</includes>
    <includes refid="_h_m_cache_8h" local="yes">HMCache.h</includes>
    <includes refid="_n_s_string_09_extension_8h" local="yes">NSString+Extension.h</includes>
    <includes local="yes">PxePlayerPage.h</includes>
    <includes local="yes">PxePlayerURLConstants.h</includes>
    <includes refid="_pxe_player_light_box_view_controller_8h" local="yes">PxePlayerLightBoxViewController.h</includes>
    <incdepgraph>
      <node id="158">
        <label>PxePlayer.h</label>
        <link refid="_pxe_player_8h"/>
      </node>
      <node id="157">
        <label>PxePlayerLoadingView.h</label>
        <link refid="_pxe_player_loading_view_8h"/>
        <childnode refid="154" relation="include">
        </childnode>
      </node>
      <node id="154">
        <label>UIKit/UIKit.h</label>
      </node>
      <node id="163">
        <label>PxePlayerURLConstants.h</label>
      </node>
      <node id="162">
        <label>PxePlayerPage.h</label>
      </node>
      <node id="155">
        <label>PxePlayerBookDelegate.h</label>
      </node>
      <node id="159">
        <label>PxePlayerUIConstants.h</label>
        <link refid="_pxe_player_u_i_constants_8h"/>
      </node>
      <node id="164">
        <label>PxePlayerLightBoxViewController.h</label>
        <link refid="_pxe_player_light_box_view_controller_8h"/>
        <childnode refid="154" relation="include">
        </childnode>
      </node>
      <node id="160">
        <label>HMCache.h</label>
        <link refid="_h_m_cache_8h"/>
      </node>
      <node id="156">
        <label>PxePlayerPagesWebView.h</label>
        <link refid="_pxe_player_pages_web_view_8h"/>
        <childnode refid="154" relation="include">
        </childnode>
      </node>
      <node id="153">
        <label>PxePlayerPageContentViewController.h</label>
        <link refid="_pxe_player_page_content_view_controller_8h"/>
        <childnode refid="154" relation="include">
        </childnode>
        <childnode refid="155" relation="include">
        </childnode>
      </node>
      <node id="152">
        <label>PxePlayerPageContentViewController.m</label>
        <link refid="PxePlayerPageContentViewController.m"/>
        <childnode refid="153" relation="include">
        </childnode>
        <childnode refid="156" relation="include">
        </childnode>
        <childnode refid="157" relation="include">
        </childnode>
        <childnode refid="158" relation="include">
        </childnode>
        <childnode refid="159" relation="include">
        </childnode>
        <childnode refid="160" relation="include">
        </childnode>
        <childnode refid="161" relation="include">
        </childnode>
        <childnode refid="162" relation="include">
        </childnode>
        <childnode refid="163" relation="include">
        </childnode>
        <childnode refid="164" relation="include">
        </childnode>
      </node>
      <node id="161">
        <label>NSString+Extension.h</label>
        <link refid="_n_s_string_09_extension_8h"/>
      </node>
    </incdepgraph>
    <innerclass refid="category_pxe_player_page_content_view_controller_07_08" prot="public">PxePlayerPageContentViewController()</innerclass>
      <sectiondef kind="define">
      <memberdef kind="define" id="_pxe_player_page_content_view_controller_8m_1abd5c8ab57c190a6522ccdbf0ed7577da" prot="public" static="no">
        <name>DISABLED</name>
        <initializer>@&quot;disabled&quot;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/TITANIUM/Projects/pxereaderios/PxeReaderSDK/PxePlayerApiUI/PxePlayerPageContentViewController.m" line="20" column="9" bodyfile="/Users/TITANIUM/Projects/pxereaderios/PxeReaderSDK/PxePlayerApiUI/PxePlayerPageContentViewController.m" bodystart="20" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_pxe_player_page_content_view_controller_8m_1ae4f07d825461436e02843325c7b6ed8d" prot="public" static="no">
        <name>LINK_DEFAULT</name>
        <initializer>@&quot;&lt;link type=\&quot;text/css\&quot; title=\&quot;default\&quot; rel=\&quot;stylesheet\&quot; href=\&quot;../../assets/css/main.css\&quot; /&gt;&quot;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/TITANIUM/Projects/pxereaderios/PxeReaderSDK/PxePlayerApiUI/PxePlayerPageContentViewController.m" line="22" column="9" bodyfile="/Users/TITANIUM/Projects/pxereaderios/PxeReaderSDK/PxePlayerApiUI/PxePlayerPageContentViewController.m" bodystart="22" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_pxe_player_page_content_view_controller_8m_1a3e04b2b5d8fad15e9a642cc22d60f347" prot="public" static="no">
        <name>LINK_SEPIA</name>
        <initializer>@&quot;&lt;link type=\&quot;text/css\&quot; title=\&quot;sepia\&quot; rel=\&quot;alternate stylesheet\&quot; href=\&quot;../../assets/css/theme/sepia.css\&quot; /&gt;&quot;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/TITANIUM/Projects/pxereaderios/PxeReaderSDK/PxePlayerApiUI/PxePlayerPageContentViewController.m" line="23" column="9" bodyfile="/Users/TITANIUM/Projects/pxereaderios/PxeReaderSDK/PxePlayerApiUI/PxePlayerPageContentViewController.m" bodystart="23" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_pxe_player_page_content_view_controller_8m_1a1328728c1a9ca1fae01eb59db4985986" prot="public" static="no">
        <name>LINK_NIGHT</name>
        <initializer>@&quot;&lt;link type=\&quot;text/css\&quot; title=\&quot;night\&quot; rel=\&quot;alternate stylesheet\&quot; href=\&quot;../../assets/css/theme/night.css\&quot; /&gt;&quot;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/TITANIUM/Projects/pxereaderios/PxeReaderSDK/PxePlayerApiUI/PxePlayerPageContentViewController.m" line="24" column="9" bodyfile="/Users/TITANIUM/Projects/pxereaderios/PxeReaderSDK/PxePlayerApiUI/PxePlayerPageContentViewController.m" bodystart="24" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_pxe_player_page_content_view_controller_8m_1aa5ff02efa13c3bc572cb5bf288befd98" prot="public" static="no">
        <name>LINK_DEFAULT_DISABLED</name>
        <initializer>@&quot;&lt;link type=\&quot;text/css\&quot; title=\&quot;default\&quot; rel=\&quot;stylesheet\&quot; href=\&quot;../../assets/css/main.css\&quot; disabled/&gt;&quot;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/TITANIUM/Projects/pxereaderios/PxeReaderSDK/PxePlayerApiUI/PxePlayerPageContentViewController.m" line="26" column="9" bodyfile="/Users/TITANIUM/Projects/pxereaderios/PxeReaderSDK/PxePlayerApiUI/PxePlayerPageContentViewController.m" bodystart="26" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_pxe_player_page_content_view_controller_8m_1a0aef83cd9439768b0613cd4042e7654a" prot="public" static="no">
        <name>LINK_SEPIA_DISABLED</name>
        <initializer>@&quot;&lt;link type=\&quot;text/css\&quot; title=\&quot;sepia\&quot; rel=\&quot;alternate stylesheet\&quot; href=\&quot;../../assets/css/theme/sepia.css\&quot; disabled/&gt;&quot;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/TITANIUM/Projects/pxereaderios/PxeReaderSDK/PxePlayerApiUI/PxePlayerPageContentViewController.m" line="27" column="9" bodyfile="/Users/TITANIUM/Projects/pxereaderios/PxeReaderSDK/PxePlayerApiUI/PxePlayerPageContentViewController.m" bodystart="27" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_pxe_player_page_content_view_controller_8m_1a4570b6e710a09a48f6f5c622ed32b746" prot="public" static="no">
        <name>LINK_NIGHT_DISABLED</name>
        <initializer>@&quot;&lt;link type=\&quot;text/css\&quot; title=\&quot;night\&quot; rel=\&quot;alternate stylesheet\&quot; href=\&quot;../../assets/css/theme/night.css\&quot; disabled/&gt;&quot;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/TITANIUM/Projects/pxereaderios/PxeReaderSDK/PxePlayerApiUI/PxePlayerPageContentViewController.m" line="28" column="9" bodyfile="/Users/TITANIUM/Projects/pxereaderios/PxeReaderSDK/PxePlayerApiUI/PxePlayerPageContentViewController.m" bodystart="28" bodyend="-1"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>PxePlayerPageContentViewController.m</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>NTApi</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>Created<sp/>by<sp/>Saro<sp/>Bear<sp/>on<sp/>10/07/13.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>Copyright<sp/>(c)<sp/>2013<sp/>Happiest<sp/>Minds.<sp/>All<sp/>rights<sp/>reserved.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="preprocessor">#import<sp/>&quot;<ref refid="_pxe_player_page_content_view_controller_8h" kindref="compound">PxePlayerPageContentViewController.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#import<sp/>&quot;<ref refid="_pxe_player_pages_web_view_8h" kindref="compound">PxePlayerPagesWebView.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="preprocessor">#import<sp/>&quot;<ref refid="_pxe_player_loading_view_8h" kindref="compound">PxePlayerLoadingView.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="preprocessor">#import<sp/>&quot;<ref refid="_pxe_player_8h" kindref="compound">PxePlayer.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="preprocessor">#import<sp/>&quot;<ref refid="_pxe_player_u_i_constants_8h" kindref="compound">PxePlayerUIConstants.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="preprocessor">#import<sp/>&quot;<ref refid="_h_m_cache_8h" kindref="compound">HMCache.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="preprocessor">#import<sp/>&quot;<ref refid="_n_s_string_09_extension_8h" kindref="compound">NSString+Extension.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="preprocessor">#import<sp/>&quot;PxePlayerPage.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="preprocessor">#import<sp/>&quot;PxePlayerURLConstants.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="preprocessor">#import<sp/>&quot;<ref refid="_pxe_player_light_box_view_controller_8h" kindref="compound">PxePlayerLightBoxViewController.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight></codeline>
<codeline lineno="20" refid="_pxe_player_page_content_view_controller_8m_1abd5c8ab57c190a6522ccdbf0ed7577da" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>DISABLED<sp/>@&quot;disabled&quot;</highlight></codeline>
<codeline lineno="21"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22" refid="_pxe_player_page_content_view_controller_8m_1ae4f07d825461436e02843325c7b6ed8d" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>LINK_DEFAULT<sp/>@&quot;&lt;link<sp/>type=\&quot;text/css\&quot;<sp/>title=\&quot;default\&quot;<sp/>rel=\&quot;stylesheet\&quot;<sp/>href=\&quot;../../assets/css/main.css\&quot;<sp/>/&gt;&quot;</highlight></codeline>
<codeline lineno="23" refid="_pxe_player_page_content_view_controller_8m_1a3e04b2b5d8fad15e9a642cc22d60f347" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>LINK_SEPIA<sp/>@&quot;&lt;link<sp/>type=\&quot;text/css\&quot;<sp/>title=\&quot;sepia\&quot;<sp/>rel=\&quot;alternate<sp/>stylesheet\&quot;<sp/>href=\&quot;../../assets/css/theme/sepia.css\&quot;<sp/>/&gt;&quot;</highlight></codeline>
<codeline lineno="24" refid="_pxe_player_page_content_view_controller_8m_1a1328728c1a9ca1fae01eb59db4985986" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>LINK_NIGHT<sp/>@&quot;&lt;link<sp/>type=\&quot;text/css\&quot;<sp/>title=\&quot;night\&quot;<sp/>rel=\&quot;alternate<sp/>stylesheet\&quot;<sp/>href=\&quot;../../assets/css/theme/night.css\&quot;<sp/>/&gt;&quot;</highlight></codeline>
<codeline lineno="25"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26" refid="_pxe_player_page_content_view_controller_8m_1aa5ff02efa13c3bc572cb5bf288befd98" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>LINK_DEFAULT_DISABLED<sp/>@&quot;&lt;link<sp/>type=\&quot;text/css\&quot;<sp/>title=\&quot;default\&quot;<sp/>rel=\&quot;stylesheet\&quot;<sp/>href=\&quot;../../assets/css/main.css\&quot;<sp/>disabled/&gt;&quot;</highlight></codeline>
<codeline lineno="27" refid="_pxe_player_page_content_view_controller_8m_1a0aef83cd9439768b0613cd4042e7654a" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>LINK_SEPIA_DISABLED<sp/>@&quot;&lt;link<sp/>type=\&quot;text/css\&quot;<sp/>title=\&quot;sepia\&quot;<sp/>rel=\&quot;alternate<sp/>stylesheet\&quot;<sp/>href=\&quot;../../assets/css/theme/sepia.css\&quot;<sp/>disabled/&gt;&quot;</highlight></codeline>
<codeline lineno="28" refid="_pxe_player_page_content_view_controller_8m_1a4570b6e710a09a48f6f5c622ed32b746" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>LINK_NIGHT_DISABLED<sp/>@&quot;&lt;link<sp/>type=\&quot;text/css\&quot;<sp/>title=\&quot;night\&quot;<sp/>rel=\&quot;alternate<sp/>stylesheet\&quot;<sp/>href=\&quot;../../assets/css/theme/night.css\&quot;<sp/>disabled/&gt;&quot;</highlight></codeline>
<codeline lineno="29"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30" refid="category_pxe_player_page_content_view_controller_07_08" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">@interface<sp/></highlight><highlight class="normal"><ref refid="interface_pxe_player_page_content_view_controller" kindref="compound">PxePlayerPageContentViewController</ref><sp/>()</highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight></codeline>
<codeline lineno="35" refid="category_pxe_player_page_content_view_controller_07_08_1af3d11a7f11a11796661c27580d6ce029" refkind="member"><highlight class="keyword">@property</highlight><highlight class="normal"><sp/>(nonatomic,<sp/>assign)<sp/>BOOL<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>viewDidAppeared;</highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight></codeline>
<codeline lineno="40" refid="category_pxe_player_page_content_view_controller_07_08_1afd96b3c3ba599231417556b69275bdbc" refkind="member"><highlight class="keyword">@property</highlight><highlight class="normal"><sp/>(nonatomic,<sp/>assign)<sp/>BOOL<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>isPageLoaded;</highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight></codeline>
<codeline lineno="45" refid="category_pxe_player_page_content_view_controller_07_08_1a2ad90ffea6617ce2f6ca5d342290ce56" refkind="member"><highlight class="keyword">@property</highlight><highlight class="normal"><sp/>(nonatomic,<sp/>assign)<sp/>CGRect<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>contentFrame;</highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight></codeline>
<codeline lineno="50" refid="category_pxe_player_page_content_view_controller_07_08_1a12806241fb1086aa491618dd59071798" refkind="member"><highlight class="keyword">@property</highlight><highlight class="normal"><sp/>(nonatomic,<sp/>strong)<sp/><ref refid="interface_pxe_player_loading_view" kindref="compound">PxePlayerLoadingView</ref><sp/><sp/><sp/><sp/><sp/><sp/>*loadingView;</highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="55" refid="category_pxe_player_page_content_view_controller_07_08_1a482fc28ef887b97f6a6aefdee082900c" refkind="member"><highlight class="keyword">@property</highlight><highlight class="normal"><sp/>(nonatomic,<sp/>strong)<sp/>NSString<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*page;</highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight></codeline>
<codeline lineno="60" refid="category_pxe_player_page_content_view_controller_07_08_1a6018e38b2c25be9266b21662eb93f0a1" refkind="member"><highlight class="keyword">@property</highlight><highlight class="normal"><sp/>(nonatomic,<sp/>strong)<sp/>NSString<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pageUUID;</highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight></codeline>
<codeline lineno="65" refid="category_pxe_player_page_content_view_controller_07_08_1aabac4af63563001986de19c537ba14a7" refkind="member"><highlight class="keyword">@property</highlight><highlight class="normal"><sp/>(nonatomic,<sp/>strong)<sp/><ref refid="interface_pxe_player_pages_web_view" kindref="compound">PxePlayerPagesWebView</ref><sp/><sp/><sp/><sp/><sp/>*pageContent;</highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight></codeline>
<codeline lineno="70" refid="category_pxe_player_page_content_view_controller_07_08_1af669d904b91e14ee5a23586242056f8f" refkind="member"><highlight class="keyword">@property</highlight><highlight class="normal"><sp/>(nonatomic,<sp/>strong)<sp/>NSArray<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*highlights;</highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight></codeline>
<codeline lineno="75" refid="category_pxe_player_page_content_view_controller_07_08_1aed72d78725a3cab4c50c195b60681fa0" refkind="member"><highlight class="keyword">@property</highlight><highlight class="normal"><sp/>(nonatomic,<sp/>assign)<sp/>BOOL<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>annotationsSharable;</highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight></codeline>
<codeline lineno="80" refid="category_pxe_player_page_content_view_controller_07_08_1a2dd826b7fd5d227afac08b130812ebb6" refkind="member"><highlight class="keyword">@property</highlight><highlight class="normal"><sp/>(nonatomic)<sp/>NSTimer*<sp/>loadingViewTimer;</highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight><highlight class="keyword">@end</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight><highlight class="keyword">@implementation<sp/></highlight><highlight class="normal"><ref refid="interface_pxe_player_page_content_view_controller" kindref="compound">PxePlayerPageContentViewController</ref></highlight></codeline>
<codeline lineno="84"><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>mark<sp/>-<sp/>Private<sp/>methods</highlight></codeline>
<codeline lineno="86"><highlight class="preprocessor"></highlight></codeline>
<codeline lineno="91"><highlight class="normal">-(void)pageDidLoad</highlight></codeline>
<codeline lineno="92"><highlight class="normal">{</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/>[[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageContent<sp/>stringByEvaluatingJavaScriptFromString:@&quot;pxereader.initWidget()&quot;]<sp/>boolValue];</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">([[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/><ref refid="interface_pxe_player_page_content_view_controller_1abc82821b4b3302687cee6029b156f0fd" kindref="member">delegate</ref>]<sp/>respondsToSelector:</highlight><highlight class="keyword">@selector</highlight><highlight class="normal">(pageContentDidLoad:)])<sp/>{</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>delegate]<sp/>pageContentDidLoad:self.page];</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>gotoURLTag:self.pageUUID];</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/>NSString<sp/>*baseUrlString<sp/>=<sp/>nil;</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">([</highlight><highlight class="keyword">self</highlight><highlight class="normal">.page<sp/>rangeOfString:</highlight><highlight class="stringliteral">@&quot;http:/&quot;</highlight><highlight class="normal">].location<sp/>==<sp/>NSNotFound)<sp/>{</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>baseUrlString<sp/>=<sp/>[NSString<sp/>stringWithFormat:@&quot;%@%@&quot;,[[<ref refid="class_pxe_player" kindref="compound">PxePlayer</ref><sp/>sharedInstance]<sp/>getNCXURL],<sp/>self.page];</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>baseUrlString<sp/>=<sp/>[NSString<sp/>stringWithString:self.page];</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="107"><highlight class="normal">}</highlight></codeline>
<codeline lineno="108"><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal">-(NSString*)prepareHTML:(NSString*)htmlStr<sp/>withBaseURL:(NSString*)baseUrlString</highlight></codeline>
<codeline lineno="118"><highlight class="normal">{</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Set<sp/>the<sp/>page<sp/>theme<sp/>by<sp/>searching<sp/>for<sp/>link<sp/>tags.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/>NSString*<sp/>currentTheme<sp/>=<sp/>[[<ref refid="class_pxe_player" kindref="compound">PxePlayer</ref><sp/>sharedInstance]<sp/>getPageTheme];</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>([currentTheme<sp/>isEqualToString:<ref refid="_pxe_player_u_i_constants_8h_1a03674ca862fefc1e956da65b69ed6200" kindref="member">DEFAULT_THEME</ref>])<sp/>{</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>htmlStr<sp/>=<sp/>[htmlStr<sp/>stringByReplacingOccurrencesOfString:LINK_SEPIA<sp/>withString:LINK_SEPIA_DISABLED];</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>htmlStr<sp/>=<sp/>[htmlStr<sp/>stringByReplacingOccurrencesOfString:LINK_NIGHT<sp/>withString:LINK_NIGHT_DISABLED];</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>([currentTheme<sp/>isEqualToString:<ref refid="_pxe_player_u_i_constants_8h_1ae6ed76685d949a97b2483b6bda473b03" kindref="member">SEPIA_THEME</ref>])<sp/>{</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>htmlStr<sp/>=<sp/>[htmlStr<sp/>stringByReplacingOccurrencesOfString:LINK_DEFAULT<sp/>withString:LINK_DEFAULT_DISABLED];</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>htmlStr<sp/>=<sp/>[htmlStr<sp/>stringByReplacingOccurrencesOfString:LINK_NIGHT<sp/>withString:LINK_NIGHT_DISABLED];</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>([currentTheme<sp/>isEqualToString:<ref refid="_pxe_player_u_i_constants_8h_1a4e4ca451836bace64f95e938d7e83013" kindref="member">NIGHT_THEME</ref>])<sp/>{</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>htmlStr<sp/>=<sp/>[htmlStr<sp/>stringByReplacingOccurrencesOfString:LINK_DEFAULT<sp/>withString:LINK_DEFAULT_DISABLED];</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>htmlStr<sp/>=<sp/>[htmlStr<sp/>stringByReplacingOccurrencesOfString:LINK_SEPIA<sp/>withString:LINK_SEPIA_DISABLED];</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>NSString<sp/>*mathML<sp/>=<sp/>@&quot;&lt;script<sp/>type=\&quot;text/x-mathjax-config\&quot;&gt;&quot;</highlight></codeline>
<codeline lineno="133"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>&quot;MathJax.Hub.Config({&quot;</highlight></codeline>
<codeline lineno="134"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>&quot;extensions:<sp/>[\&quot;tex2jax.js\&quot;],&quot;</highlight></codeline>
<codeline lineno="135"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>&quot;jax:<sp/>[\&quot;input/TeX\&quot;,\&quot;output/HTML-CSS\&quot;],&quot;</highlight></codeline>
<codeline lineno="136"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>&quot;tex2jax:<sp/>{inlineMath:<sp/>[[\&quot;$\&quot;,\&quot;$\&quot;],[\&quot;\\(\&quot;,\&quot;\\)\&quot;]]}});&quot;</highlight></codeline>
<codeline lineno="137"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>&quot;&lt;/script&gt;&quot;</highlight></codeline>
<codeline lineno="138"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>&quot;&lt;script<sp/>type=\&quot;text/javascript\&quot;<sp/>src=\&quot;../MathJax.js\&quot;&gt;&lt;/script&gt;&quot;;<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/>NSString*<sp/>jsReaderURL<sp/>=<sp/>[NSString<sp/>stringWithFormat:@&quot;%@readersdk/&quot;,<sp/>pxeServicesURL];</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/>NSString<sp/>*script<sp/>=<sp/><sp/>[NSString<sp/>stringWithFormat:@&quot;\n&lt;style&gt;body{font-size:<sp/>%dpx;}&lt;/style&gt;&quot;</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&lt;link<sp/>href=\&quot;%@css/reader-annotate.css\&quot;<sp/>rel=\&quot;stylesheet\&quot;<sp/>/&gt;\n&quot;</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&lt;script<sp/>type=\&quot;text/javascript\&quot;<sp/>src=\&quot;http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML\&quot;&gt;&lt;/script&gt;&quot;</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&lt;script<sp/>type=\&quot;text/javascript\&quot;<sp/>src=\&quot;http://code.jquery.com/jquery-2.1.0.min.js\&quot;&gt;&lt;/script&gt;\n&quot;</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&lt;script<sp/>type=\&quot;text/javascript\&quot;<sp/>src=\&quot;http://code.jquery.com/ui/1.10.3/jquery-ui.js\&quot;&gt;&lt;/script&gt;\n&quot;</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&lt;script<sp/>type=\&quot;text/javascript\&quot;<sp/>src=\&quot;%@bootstrap.js\&quot;&gt;&lt;/script&gt;\n&quot;</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&lt;script<sp/>type=\&quot;text/javascript\&quot;<sp/>src=\&quot;%@pxereader.js\&quot;&gt;&lt;/script&gt;\n&quot;</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&lt;script<sp/>type=\&quot;text/javascript\&quot;&gt;var<sp/>$pxe<sp/>=jQuery.noConflict(true);&lt;/script&gt;\n&quot;</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&lt;script<sp/>type=\&quot;text/javascript\&quot;<sp/>src=\&quot;%@content-formatter.js\&quot;&gt;&lt;/script&gt;\n&quot;</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&lt;script<sp/>type=\&quot;text/javascript\&quot;<sp/>src=\&quot;%@reader-annotate.js\&quot;&gt;&lt;/script&gt;\n&quot;</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&lt;script<sp/>type=\&quot;text/javascript\&quot;<sp/>src=\&quot;%@deviceevents.js\&quot;&gt;&lt;/script&gt;\n&quot;</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&lt;script<sp/>type=\&quot;text/javascript\&quot;<sp/>src=\&quot;%@widget-runtime-api.js\&quot;&gt;&lt;/script&gt;\n&quot;</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&lt;script<sp/>type=\&quot;text/javascript\&quot;&gt;$pxe(document).ready(function(){addAnnotationSupport(\&quot;%@\&quot;,<sp/>\&quot;%@\&quot;,<sp/>\&quot;%@\&quot;,<sp/>\&quot;%@\&quot;,<sp/>%d,<sp/>\&quot;%@\&quot;)});&lt;/script&gt;\n&quot;</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>,<sp/>[[<ref refid="class_pxe_player" kindref="compound">PxePlayer</ref><sp/>sharedInstance]<sp/>getPageFontSize],<sp/>jsReaderURL,<sp/>jsReaderURL,<sp/>jsReaderURL,jsReaderURL,jsReaderURL,jsReaderURL,jsReaderURL,<sp/>[[<ref refid="class_pxe_player" kindref="compound">PxePlayer</ref><sp/>sharedInstance]<sp/>getIdentityID],<sp/>[[<ref refid="class_pxe_player" kindref="compound">PxePlayer</ref><sp/>sharedInstance]<sp/>getContextID],<sp/>baseUrlString,<sp/>baseUrlString,<sp/>self.annotationsSharable,<sp/>[NSString<sp/>stringWithFormat:@&quot;%@services-api/api&quot;,<sp/>pxeServicesURL]];</highlight></codeline>
<codeline lineno="155"><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>$pxe(&apos;html,body&apos;).css({&apos;width&apos;:&apos;%fpx&apos;}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/>NSString*<sp/>learningContext<sp/>=<sp/>[[<ref refid="class_pxe_player" kindref="compound">PxePlayer</ref><sp/>sharedInstance]<sp/>getLearningContext];</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(learningContext<sp/>&amp;&amp;<sp/>learningContext.length)<sp/>{</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DLog(</highlight><highlight class="stringliteral">@&quot;Set<sp/>LearningContext:<sp/>%@&quot;</highlight><highlight class="normal">,<sp/>learningContext);</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSString*<sp/>learningContextScript<sp/>=<sp/>[NSString<sp/>stringWithFormat:@&quot;&lt;script<sp/>type=\&quot;text/javascript\&quot;&gt;window.learningContext<sp/>=<sp/>%@;<sp/>window.getLearningContext<sp/>=<sp/>function(){return<sp/>window.learningContext;}&lt;/script&gt;\n&quot;,<sp/>learningContext];</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>script<sp/>=<sp/>[script<sp/>stringByAppendingString:learningContextScript];</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/>DLog(</highlight><highlight class="stringliteral">@&quot;script<sp/>%@&quot;</highlight><highlight class="normal">,script);</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Insert<sp/>Javascript<sp/>files</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/>NSString<sp/>*urlString<sp/>=<sp/>[NSString<sp/>stringWithFormat:@&quot;&lt;head&gt;\n&lt;meta<sp/>name=\&quot;viewport\&quot;<sp/>content=\&quot;width=device-width;<sp/>initial-scale=1.0;<sp/>maximum-scale=5.0;\&quot;&gt;\n&lt;base<sp/>href=\&quot;%@/\&quot;/&gt;%@&quot;,<sp/>[baseUrlString<sp/>stringByDeletingLastPathComponent],<sp/>script];</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/>NSRange<sp/>headRange<sp/>=<sp/>[htmlStr<sp/>rangeOfString:@&quot;&lt;head&gt;&quot;];</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(headRange.location<sp/>!=<sp/>NSNotFound)<sp/>{</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>htmlStr<sp/>=<sp/>[htmlStr<sp/>stringByReplacingOccurrencesOfString:@&quot;&lt;head&gt;&quot;<sp/>withString:urlString];</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>htmlStr;</highlight></codeline>
<codeline lineno="175"><highlight class="normal">}</highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight></codeline>
<codeline lineno="180"><highlight class="normal">-(void)hideLoadingView<sp/>{</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.loadingViewTimer<sp/>=<sp/>nil;</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(</highlight><highlight class="keyword">self</highlight><highlight class="normal">.loadingView)<sp/>{</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.loadingView<sp/>removeView];</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.loadingView<sp/>=<sp/>nil;</highlight></codeline>
<codeline lineno="186"><highlight class="normal">}</highlight></codeline>
<codeline lineno="187"><highlight class="normal"></highlight></codeline>
<codeline lineno="193"><highlight class="normal">-(void)showLightBox:(NSString*)eventMessage</highlight></codeline>
<codeline lineno="194"><highlight class="normal">{</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/>NSData<sp/>*decodedData<sp/>=<sp/>[[eventMessage<sp/>stringByReplacingPercentEscapesUsingEncoding:NSUTF8StringEncoding]<sp/>dataUsingEncoding:NSUTF8StringEncoding];</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/>NSDictionary<sp/>*lightBoxInfo<sp/>=<sp/>[NSJSONSerialization<sp/>JSONObjectWithData:decodedData<sp/>options:0<sp/>error:NULL];</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/>NSBundle<sp/>*resourceBundle<sp/>=<sp/>[NSBundle<sp/>bundleWithPath:[[NSBundle<sp/>mainBundle]<sp/>pathForResource:kDataBundleName<sp/>ofType:@&quot;bundle&quot;]];</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/>[resourceBundle<sp/>load];</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/>UIStoryboard<sp/>*sb<sp/>=<sp/>[UIStoryboard<sp/>storyboardWithName:@&quot;PxeReaderStoryboard&quot;<sp/>bundle:resourceBundle];</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="interface_pxe_player_light_box_view_controller" kindref="compound">PxePlayerLightBoxViewController</ref>*<sp/>lightBox<sp/>=<sp/>[sb<sp/>instantiateViewControllerWithIdentifier:@&quot;LIGHTBOX&quot;];</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/>lightBox.<ref refid="interface_pxe_player_light_box_view_controller_1a0603939be7a9337d50eedf4e1b5116bf" kindref="member">boxInfo</ref><sp/>=<sp/>lightBoxInfo;</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>presentViewController:lightBox<sp/>animated:YES<sp/>completion:nil];</highlight></codeline>
<codeline lineno="206"><highlight class="normal">}</highlight></codeline>
<codeline lineno="207"><highlight class="normal"></highlight></codeline>
<codeline lineno="208"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>mark<sp/>-<sp/>Public<sp/>methods</highlight></codeline>
<codeline lineno="209"><highlight class="preprocessor"></highlight></codeline>
<codeline lineno="216" refid="interface_pxe_player_page_content_view_controller_1ac48e24862e5965de2e8bb122207a54e7" refkind="member"><highlight class="normal">-(void)<ref refid="interface_pxe_player_page_content_view_controller_1ac48e24862e5965de2e8bb122207a54e7" kindref="member">loadPage</ref></highlight></codeline>
<codeline lineno="217"><highlight class="normal">{</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!</highlight><highlight class="keyword">self</highlight><highlight class="normal">.loadingView)<sp/>{</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.loadingViewTimer<sp/>=<sp/>[NSTimer<sp/>scheduledTimerWithTimeInterval:TIME_TO_REMOVE_LOADING<sp/>target:self<sp/>selector:@selector(hideLoadingView)<sp/>userInfo:nil<sp/>repeats:NO];</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.loadingView<sp/>=<sp/>[<ref refid="interface_pxe_player_loading_view" kindref="compound">PxePlayerLoadingView</ref><sp/><ref refid="interface_pxe_player_loading_view_1af369e5258443bcf7c4420fab7012e2bc" kindref="member">loadingViewInView</ref>:self.view];</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/>NSString<sp/>*baseUrlString<sp/>=<sp/>nil;</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">([</highlight><highlight class="keyword">self</highlight><highlight class="normal">.page<sp/>rangeOfString:</highlight><highlight class="stringliteral">@&quot;http:/&quot;</highlight><highlight class="normal">].location<sp/>==<sp/>NSNotFound)<sp/>{</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>baseUrlString<sp/>=<sp/>[NSString<sp/>stringWithFormat:@&quot;%@%@&quot;,[[<ref refid="class_pxe_player" kindref="compound">PxePlayer</ref><sp/>sharedInstance]<sp/>getNCXURL],<sp/>self.page];</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>baseUrlString<sp/>=<sp/>[NSString<sp/>stringWithString:self.page];</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/>NSData<sp/>*data<sp/>=<sp/>(NSData*)[<ref refid="interface_h_m_cache" kindref="compound">HMCache</ref><sp/>objectForKey:[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.page<sp/>md5]];</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(data)</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PxePlayerPage<sp/>*pageDetails<sp/>=<sp/>(PxePlayerPage*)[NSKeyedUnarchiver<sp/>unarchiveObjectWithData:data];</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">([[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/><ref refid="interface_pxe_player_page_content_view_controller_1abc82821b4b3302687cee6029b156f0fd" kindref="member">delegate</ref>]<sp/>respondsToSelector:</highlight><highlight class="keyword">@selector</highlight><highlight class="normal">(pageContentLoading:)])<sp/>{</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/><ref refid="interface_pxe_player_page_content_view_controller_1abc82821b4b3302687cee6029b156f0fd" kindref="member">delegate</ref>]<sp/>pageContentLoading:self.page];</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageContent<sp/>loadHTMLString:[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>prepareHTML:pageDetails.contentFile<sp/>withBaseURL:baseUrlString]<sp/>baseURL:[NSURL<sp/>URLWithString:baseUrlString]];</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="241"><highlight class="normal">}</highlight></codeline>
<codeline lineno="242"><highlight class="normal"></highlight></codeline>
<codeline lineno="249" refid="interface_pxe_player_page_content_view_controller_1a83dc743081b3625226cae810fbe027a5" refkind="member"><highlight class="normal">-(void)gotoURLTag:(NSString*)urlTag</highlight></codeline>
<codeline lineno="250"><highlight class="normal">{</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageUUID<sp/>=<sp/>urlTag;</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageUUID)</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSString<sp/>*fullURL<sp/>=<sp/>[NSString<sp/>stringWithFormat:@&quot;%@#%@&quot;,self.page,self.pageUUID];</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageContent<sp/>stringByEvaluatingJavaScriptFromString:[NSString<sp/>stringWithFormat:@&quot;location.href<sp/>=<sp/>&apos;%@&apos;&quot;,fullURL]];</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="257"><highlight class="normal">}</highlight></codeline>
<codeline lineno="258"><highlight class="normal"></highlight></codeline>
<codeline lineno="263" refid="interface_pxe_player_page_content_view_controller_1a14807e6d4cdaea7a2cc4ba87b7a59e3b" refkind="member"><highlight class="normal">-(void)setPageId:(NSString<sp/>*)pageId<sp/>{</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageUUID<sp/><sp/>=<sp/>pageId;</highlight></codeline>
<codeline lineno="265"><highlight class="normal">}</highlight></codeline>
<codeline lineno="266"><highlight class="normal"></highlight></codeline>
<codeline lineno="272" refid="interface_pxe_player_page_content_view_controller_1ae168e36dd9a9b4d6f613ca0e613a6989" refkind="member"><highlight class="normal">-(NSString*)<ref refid="interface_pxe_player_page_content_view_controller_1ae168e36dd9a9b4d6f613ca0e613a6989" kindref="member">getPageAbsoluteURL</ref></highlight></codeline>
<codeline lineno="273"><highlight class="normal">{</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/>NSString<sp/>*baseUrlString<sp/>=<sp/>nil;</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">([</highlight><highlight class="keyword">self</highlight><highlight class="normal">.page<sp/>rangeOfString:</highlight><highlight class="stringliteral">@&quot;http:/&quot;</highlight><highlight class="normal">].location<sp/>==<sp/>NSNotFound)<sp/>{</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>baseUrlString<sp/>=<sp/>[NSString<sp/>stringWithFormat:@&quot;%@/%@&quot;,[[<ref refid="class_pxe_player" kindref="compound">PxePlayer</ref><sp/>sharedInstance]<sp/>getNCXURL],self.page];</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>baseUrlString<sp/>=<sp/>[NSString<sp/>stringWithString:self.page];</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>baseUrlString;</highlight></codeline>
<codeline lineno="284"><highlight class="normal">}</highlight></codeline>
<codeline lineno="285"><highlight class="normal"></highlight></codeline>
<codeline lineno="290" refid="interface_pxe_player_page_content_view_controller_1a12057b213465a87807f385f538184364" refkind="member"><highlight class="normal">-(NSString*)<ref refid="interface_pxe_player_page_content_view_controller_1a12057b213465a87807f385f538184364" kindref="member">getPageRelativeURL</ref><sp/>{</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.page;</highlight></codeline>
<codeline lineno="292"><highlight class="normal">}</highlight></codeline>
<codeline lineno="293"><highlight class="normal"></highlight></codeline>
<codeline lineno="298" refid="interface_pxe_player_page_content_view_controller_1aa0c98549d530b0e72cacb71e517d14cc" refkind="member"><highlight class="normal">-(NSString*)<ref refid="interface_pxe_player_page_content_view_controller_1aa0c98549d530b0e72cacb71e517d14cc" kindref="member">getPageUUID</ref><sp/>{</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.page;</highlight></codeline>
<codeline lineno="300"><highlight class="normal">}</highlight></codeline>
<codeline lineno="301"><highlight class="normal"></highlight></codeline>
<codeline lineno="306" refid="interface_pxe_player_page_content_view_controller_1a6e0cc4d9f70477ebac454c4ca421ed46" refkind="member"><highlight class="normal">-(BOOL)<ref refid="interface_pxe_player_page_content_view_controller_1a6e0cc4d9f70477ebac454c4ca421ed46" kindref="member">isPageDidLoad</ref><sp/>{</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.isPageLoaded;</highlight></codeline>
<codeline lineno="308"><highlight class="normal">}</highlight></codeline>
<codeline lineno="309"><highlight class="normal"></highlight></codeline>
<codeline lineno="310"><highlight class="normal"></highlight></codeline>
<codeline lineno="311"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>mark<sp/>-<sp/>Self<sp/>methods</highlight></codeline>
<codeline lineno="312"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="313"><highlight class="normal">-<sp/>(BOOL)prefersStatusBarHidden<sp/>{</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>YES;</highlight></codeline>
<codeline lineno="315"><highlight class="normal">}</highlight></codeline>
<codeline lineno="316"><highlight class="normal"></highlight></codeline>
<codeline lineno="317" refid="interface_pxe_player_page_content_view_controller_1ac1ee65bf42d314bdfb0e8f6e933ea826" refkind="member"><highlight class="normal">-(id)initWithPage:(NSString*)page<sp/>withFrame:(CGRect)frame<sp/>andDelegate:(</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">)delegate</highlight></codeline>
<codeline lineno="318"><highlight class="normal">{</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>=<sp/>[</highlight><highlight class="keyword">super</highlight><highlight class="normal"><sp/>init];</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(</highlight><highlight class="keyword">self</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.page<sp/>=<sp/>page;</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.delegate<sp/>=<sp/><ref refid="interface_pxe_player_page_content_view_controller_1abc82821b4b3302687cee6029b156f0fd" kindref="member">delegate</ref>;</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.contentFrame<sp/>=<sp/>frame;</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.annotationsSharable<sp/>=<sp/>YES;</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="329"><highlight class="normal">}</highlight></codeline>
<codeline lineno="330"><highlight class="normal"></highlight></codeline>
<codeline lineno="331"><highlight class="normal">-(void)loadView</highlight></codeline>
<codeline lineno="332"><highlight class="normal">{</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//set<sp/>the<sp/>current<sp/>view</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>setView:[[UIView<sp/>alloc]initWithFrame:self.contentFrame]];</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.view<sp/>setAutoresizingMask:UIViewAutoresizingFlexibleWidth|UIViewAutoresizingFlexibleHeight];</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.view<sp/>setBackgroundColor:[UIColor<sp/>whiteColor]];</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/>CGRect<sp/>frame<sp/>=<sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.view.bounds;<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageContent<sp/>=<sp/>[[<ref refid="interface_pxe_player_pages_web_view" kindref="compound">PxePlayerPagesWebView</ref><sp/>alloc]<sp/>initWithFrame:frame<sp/>withScalePageToFit:(BOOL)[[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>delegate]<sp/>scalePageToFit]];</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.view<sp/>addSubview:self.pageContent];</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageContent.delegate<sp/>=<sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="343"><highlight class="normal">}</highlight></codeline>
<codeline lineno="344"><highlight class="normal"></highlight></codeline>
<codeline lineno="345"><highlight class="normal">-(void)viewDidLoad</highlight></codeline>
<codeline lineno="346"><highlight class="normal">{</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">super</highlight><highlight class="normal"><sp/>viewDidLoad];</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.viewDidAppeared<sp/>=<sp/>NO;</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.isPageLoaded<sp/>=<sp/>NO;</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//load<sp/>the<sp/>page<sp/>content</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>loadPage];</highlight></codeline>
<codeline lineno="354"><highlight class="normal">}</highlight></codeline>
<codeline lineno="355"><highlight class="normal"></highlight></codeline>
<codeline lineno="356"><highlight class="normal">-(void)viewDidAppear:(BOOL)animated</highlight></codeline>
<codeline lineno="357"><highlight class="normal">{</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">super</highlight><highlight class="normal"><sp/>viewDidAppear:animated];</highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//restrict<sp/>the<sp/>horizondal<sp/>scrolling</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageContent.scrollView<sp/>setContentSize:CGSizeMake(self.pageContent.frame.size.width,<sp/>self.pageContent.scrollView.contentSize.height)];</highlight></codeline>
<codeline lineno="362"><highlight class="normal"></highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//calling<sp/>load<sp/>page<sp/>again<sp/>to<sp/>avoid<sp/>any<sp/>exceptional<sp/>case<sp/>for<sp/>page<sp/>loading<sp/>interrupted<sp/>in<sp/>global<sp/>queue<sp/>,<sp/>loadpage<sp/>has<sp/>iteself<sp/>written<sp/>condtion<sp/>for<sp/>page<sp/>loading<sp/>or<sp/>already<sp/>loaded<sp/>.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((!</highlight><highlight class="keyword">self</highlight><highlight class="normal">.isPageLoaded)</highlight><highlight class="comment">/*<sp/>&amp;&amp;<sp/>(![self.pageContent<sp/>isLoading])*/</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>loadPage];</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="367"><highlight class="normal">}</highlight></codeline>
<codeline lineno="368"><highlight class="normal"></highlight></codeline>
<codeline lineno="369"><highlight class="normal">-(void)viewWillAppear:(BOOL)animated</highlight></codeline>
<codeline lineno="370"><highlight class="normal">{</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">super</highlight><highlight class="normal"><sp/>viewWillAppear:animated];<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.viewDidAppeared<sp/>=<sp/>YES;</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageContent.scrollView<sp/>setZoomScale:self.pageContent.scrollView.minimumZoomScale<sp/>animated:NO];</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">([[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/><ref refid="interface_pxe_player_page_content_view_controller_1abc82821b4b3302687cee6029b156f0fd" kindref="member">delegate</ref>]<sp/>respondsToSelector:</highlight><highlight class="keyword">@selector</highlight><highlight class="normal">(pageContentLoading:)])<sp/>{</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>delegate]<sp/>pageContentLoading:self.page];</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(</highlight><highlight class="keyword">self</highlight><highlight class="normal">.isPageLoaded)<sp/>{</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>pageDidLoad];</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="385"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>[self<sp/>updateFont];</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="386"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>[self<sp/>updateTheme];</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="387"><highlight class="normal">}</highlight></codeline>
<codeline lineno="388"><highlight class="normal"></highlight></codeline>
<codeline lineno="389"><highlight class="normal">-(void)viewWillDisappear:(BOOL)animated</highlight></codeline>
<codeline lineno="390"><highlight class="normal">{<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageContent<sp/>stopLoading];</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">super</highlight><highlight class="normal"><sp/>viewWillDisappear:animated];</highlight></codeline>
<codeline lineno="394"><highlight class="normal">}</highlight></codeline>
<codeline lineno="395"><highlight class="normal"></highlight></codeline>
<codeline lineno="396"><highlight class="normal">-(void)viewDidDisappear:(BOOL)animated</highlight></codeline>
<codeline lineno="397"><highlight class="normal">{</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//get<sp/>back<sp/>to<sp/>original<sp/>minimum<sp/>zoom<sp/>scale</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageContent.scrollView<sp/>setZoomScale:self.pageContent.scrollView.minimumZoomScale<sp/>animated:NO];</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="401"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>if(self.isPageLoaded)<sp/>{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>DLog(@&quot;Stopping<sp/>video&quot;);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageContent<sp/>stringByEvaluatingJavaScriptFromString:@&quot;pxereader.clearSearchHighlights()&quot;];</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageContent<sp/>stringByEvaluatingJavaScriptFromString:@&quot;pxereader.stopWidgets()&quot;];</highlight></codeline>
<codeline lineno="405"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="406"><highlight class="normal"></highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.viewDidAppeared<sp/>=<sp/>NO;</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">super</highlight><highlight class="normal"><sp/>viewDidDisappear:animated];</highlight></codeline>
<codeline lineno="410"><highlight class="normal">}</highlight></codeline>
<codeline lineno="411"><highlight class="normal"></highlight></codeline>
<codeline lineno="412"><highlight class="normal">-(void)viewDidUnload</highlight></codeline>
<codeline lineno="413"><highlight class="normal">{</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">([</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageContent<sp/>isLoading])<sp/>{</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageContent<sp/>stopLoading];</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(</highlight><highlight class="keyword">self</highlight><highlight class="normal">.loadingViewTimer<sp/>&amp;&amp;<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.loadingViewTimer<sp/>isValid])<sp/>{</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.loadingViewTimer<sp/>invalidate];</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.loadingViewTimer<sp/>=<sp/>nil;</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(</highlight><highlight class="keyword">self</highlight><highlight class="normal">.loadingView)<sp/>{</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.loadingView<sp/>removeView];</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.loadingView<sp/>=<sp/>nil;</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">super</highlight><highlight class="normal"><sp/>viewDidUnload];</highlight></codeline>
<codeline lineno="429"><highlight class="normal">}</highlight></codeline>
<codeline lineno="430"><highlight class="normal"></highlight></codeline>
<codeline lineno="431"><highlight class="normal">-(void)dealloc</highlight></codeline>
<codeline lineno="432"><highlight class="normal">{</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/>DLog(</highlight><highlight class="stringliteral">@&quot;page<sp/>content<sp/>view<sp/>controller<sp/>deallocated...&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.loadingView<sp/><sp/><sp/><sp/>=<sp/><sp/><sp/>nil;</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.page<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/><sp/><sp/>nil;</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageContent<sp/><sp/><sp/><sp/>=<sp/><sp/><sp/>nil;</highlight></codeline>
<codeline lineno="438"><highlight class="normal">}</highlight></codeline>
<codeline lineno="439"><highlight class="normal"></highlight></codeline>
<codeline lineno="440"><highlight class="normal">-<sp/>(void)didReceiveMemoryWarning</highlight></codeline>
<codeline lineno="441"><highlight class="normal">{</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/>DLog(</highlight><highlight class="stringliteral">@&quot;&lt;--------------------------------------------<sp/><sp/><sp/>memory<sp/>warning<sp/>-------------------------------------------------&gt;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">super</highlight><highlight class="normal"><sp/>didReceiveMemoryWarning];</highlight></codeline>
<codeline lineno="444"><highlight class="normal">}</highlight></codeline>
<codeline lineno="445"><highlight class="normal"></highlight></codeline>
<codeline lineno="446"><highlight class="normal"></highlight></codeline>
<codeline lineno="447"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>mark<sp/>-<sp/>UIWebview<sp/>delegate<sp/>methods</highlight></codeline>
<codeline lineno="448"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="449"><highlight class="normal">-(BOOL)webView:(UIWebView<sp/>*)webView<sp/>shouldStartLoadWithRequest:(NSURLRequest<sp/>*)request<sp/>navigationType:(UIWebViewNavigationType)navigationType</highlight></codeline>
<codeline lineno="450"><highlight class="normal">{</highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/>NSString<sp/><sp/><sp/><sp/>*absoluteURL<sp/><sp/><sp/><sp/>=<sp/>[request.URL<sp/>absoluteString];</highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/>NSString<sp/><sp/><sp/><sp/>*relativeURL<sp/><sp/><sp/><sp/>=<sp/>[request.URL<sp/>relativePath];</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/>NSString<sp/><sp/><sp/><sp/>*pageUrl<sp/>=<sp/>[NSString<sp/>stringWithString:self.page];</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">([</highlight><highlight class="keyword">self</highlight><highlight class="normal">.page<sp/>rangeOfString:</highlight><highlight class="stringliteral">@&quot;http:/&quot;</highlight><highlight class="normal">].location<sp/>==<sp/>NSNotFound)<sp/>{</highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pageUrl<sp/>=<sp/>[NSString<sp/>stringWithFormat:@&quot;%@/%@&quot;,[[<ref refid="class_pxe_player" kindref="compound">PxePlayer</ref><sp/>sharedInstance]<sp/>getNCXURL],<sp/>self.page];</highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/>pageUrl<sp/>=<sp/>[pageUrl<sp/>stringByReplacingOccurrencesOfString:@&quot;http:/&quot;<sp/>withString:@&quot;&quot;];</highlight></codeline>
<codeline lineno="460"><highlight class="normal"></highlight></codeline>
<codeline lineno="461"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>DLog(@&quot;absolute<sp/>URL<sp/>%@&quot;,<sp/>absoluteURL);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="462"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>DLog(@&quot;relative<sp/>URL<sp/>%@&quot;,<sp/>relativeURL);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>([absoluteURL<sp/>rangeOfString:</highlight><highlight class="stringliteral">@&quot;pxe-frame://&quot;</highlight><highlight class="normal">].location<sp/>!=<sp/>NSNotFound)</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSString*<sp/></highlight><highlight class="keyword">event</highlight><highlight class="normal"><sp/>=<sp/>[absoluteURL<sp/>stringByReplacingOccurrencesOfString:@&quot;pxe-frame://&quot;<sp/>withString:@&quot;&quot;];</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSArray<sp/>*eventValues<sp/>=<sp/>[event<sp/>componentsSeparatedByString:@&quot;#&quot;];</highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">([eventValues<sp/>count])</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSString<sp/>*eventName<sp/>=<sp/>eventValues[0];</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSString<sp/>*eventMessage<sp/>=<sp/></highlight><highlight class="stringliteral">@&quot;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">([eventValues<sp/>count]<sp/>&gt;<sp/>1)<sp/>{</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eventMessage<sp/>=<sp/>eventValues[1];</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DLog(</highlight><highlight class="stringliteral">@&quot;###<sp/>Notification<sp/>Event<sp/>Name:<sp/>%@&quot;</highlight><highlight class="normal">,<sp/>eventName);</highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DLog(</highlight><highlight class="stringliteral">@&quot;###<sp/>Notification<sp/>Event<sp/>Message:<sp/>%@&quot;</highlight><highlight class="normal">,<sp/>eventMessage);</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">([eventName<sp/>isEqualToString:<ref refid="_pxe_player_u_i_constants_8h_1a0a719c43738dbca6fd49ff288ed6a300" kindref="member">PXEPLAYER_CADGET_EVENT</ref>])<sp/>{</highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>showLightBox:eventMessage];</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[NSNotificationCenter<sp/>defaultCenter]<sp/>postNotificationName:eventName<sp/>object:nil<sp/>userInfo:@{@&quot;Event&quot;:eventMessage}];</highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>([absoluteURL<sp/>rangeOfString:</highlight><highlight class="stringliteral">@&quot;onAnnotationLoad&quot;</highlight><highlight class="normal">].location<sp/>!=<sp/>NSNotFound)</highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">self</highlight><highlight class="normal">.highlights<sp/>&amp;&amp;<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.highlights<sp/>count])</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageContent<sp/>stringByEvaluatingJavaScriptFromString:@&quot;pxereader.clearSearchHighlights()&quot;];</highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageContent<sp/>stringByEvaluatingJavaScriptFromString:[NSString<sp/>stringWithFormat:@&quot;pxereader.doSearchHighlight([\&quot;%@\&quot;]);&quot;,<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.highlights<sp/>componentsJoinedByString:@&quot;\&quot;,\&quot;&quot;]]];</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>updateFont];</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>updateTheme];</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NO;</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>([absoluteURL<sp/>rangeOfString:</highlight><highlight class="stringliteral">@&quot;#&quot;</highlight><highlight class="normal">].location<sp/>==<sp/>NSNotFound)<sp/>{</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NO;</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">([absoluteURL<sp/>rangeOfString:[pageUrl<sp/>lastPathComponent]].location<sp/>!=<sp/>NSNotFound)<sp/>{</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>YES;</highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>([absoluteURL<sp/>hasPrefix:</highlight><highlight class="stringliteral">@&quot;about:&quot;</highlight><highlight class="normal">]){</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NO;</highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">([absoluteURL<sp/>hasPrefix:</highlight><highlight class="stringliteral">@&quot;http://player.theplatform.com&quot;</highlight><highlight class="normal">])<sp/>{</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>YES;</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>([absoluteURL<sp/>rangeOfString:</highlight><highlight class="stringliteral">@&quot;conviva&quot;</highlight><highlight class="normal"><sp/>options:NSCaseInsensitiveSearch].location<sp/>!=<sp/>NSNotFound)<sp/>{</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>YES;</highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>([absoluteURL<sp/>rangeOfString:</highlight><highlight class="stringliteral">@&quot;lphbs.com&quot;</highlight><highlight class="normal"><sp/>options:NSCaseInsensitiveSearch].location<sp/>!=<sp/>NSNotFound)<sp/>{</highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>YES;</highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>([absoluteURL<sp/>rangeOfString:</highlight><highlight class="stringliteral">@&quot;pearsoncmg.com&quot;</highlight><highlight class="normal"><sp/>options:NSCaseInsensitiveSearch].location<sp/>!=<sp/>NSNotFound)<sp/>{</highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>YES;</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>([absoluteURL<sp/>rangeOfString:</highlight><highlight class="stringliteral">@&quot;pearson&quot;</highlight><highlight class="normal"><sp/>options:NSCaseInsensitiveSearch].location<sp/>!=<sp/>NSNotFound)<sp/>{</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>YES;</highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>([absoluteURL<sp/>rangeOfString:</highlight><highlight class="stringliteral">@&quot;learningmate.com&quot;</highlight><highlight class="normal"><sp/>options:NSCaseInsensitiveSearch].location<sp/>!=<sp/>NSNotFound)<sp/>{</highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>YES;</highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>([absoluteURL<sp/>rangeOfString:</highlight><highlight class="stringliteral">@&quot;/brix/&quot;</highlight><highlight class="normal"><sp/>options:NSCaseInsensitiveSearch].location<sp/>!=<sp/>NSNotFound)<sp/>{</highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>YES;</highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">([relativeURL<sp/>rangeOfString:</highlight><highlight class="stringliteral">@&quot;readersdk&quot;</highlight><highlight class="normal">].location<sp/>!=<sp/>NSNotFound)<sp/>{</highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>YES;</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">([absoluteURL<sp/>rangeOfString:[pageUrl<sp/>stringByDeletingLastPathComponent]].location<sp/>!=<sp/>NSNotFound)</highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//navigate<sp/>to<sp/>the<sp/>page</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">([[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/><ref refid="interface_pxe_player_page_content_view_controller_1abc82821b4b3302687cee6029b156f0fd" kindref="member">delegate</ref>]<sp/>respondsToSelector:</highlight><highlight class="keyword">@selector</highlight><highlight class="normal">(loadPageWithRelativeURL:)])<sp/>{</highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>![[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>delegate]<sp/>loadPageWithRelativeURL:[relativeURL<sp/>lastPathComponent]];</highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><sp/>NO;</highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//load<sp/>external<sp/>browser</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">([[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/><ref refid="interface_pxe_player_page_content_view_controller_1abc82821b4b3302687cee6029b156f0fd" kindref="member">delegate</ref>]<sp/>respondsToSelector:</highlight><highlight class="keyword">@selector</highlight><highlight class="normal">(loadBrowserWithURL:)])<sp/>{</highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>delegate]<sp/>loadBrowserWithURL:absoluteURL];</highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NO;</highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>YES;</highlight></codeline>
<codeline lineno="549"><highlight class="normal">}</highlight></codeline>
<codeline lineno="550"><highlight class="normal"></highlight></codeline>
<codeline lineno="551"><highlight class="normal">-<sp/>(void)webViewDidFinishLoad:(UIWebView<sp/>*)webView</highlight></codeline>
<codeline lineno="552"><highlight class="normal">{</highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//reset<sp/>the<sp/>content<sp/>size<sp/>of<sp/>the<sp/>webview</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/>[webView.scrollView<sp/>setZoomScale:webView.scrollView.minimumZoomScale<sp/>animated:YES];</highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/>[webView.scrollView<sp/>setContentSize:CGSizeMake(webView.frame.size.width,<sp/>webView.scrollView.contentSize.height)];</highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(</highlight><highlight class="keyword">self</highlight><highlight class="normal">.loadingView)<sp/>{</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.loadingView<sp/>removeView];</highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.loadingView<sp/><sp/><sp/><sp/>=<sp/>nil;</highlight></codeline>
<codeline lineno="561"><highlight class="normal"></highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">self</highlight><highlight class="normal">.isPageLoaded)<sp/>{</highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.isPageLoaded<sp/><sp/><sp/>=<sp/>YES;</highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//load<sp/>the<sp/>javscript<sp/>calls</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(</highlight><highlight class="keyword">self</highlight><highlight class="normal">.viewDidAppeared)<sp/>{</highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>pageDidLoad];</highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="572"><highlight class="normal">}</highlight></codeline>
<codeline lineno="573"><highlight class="normal"></highlight></codeline>
<codeline lineno="574"><highlight class="normal">-(void)webView:(UIWebView<sp/>*)webView<sp/>didFailLoadWithError:(NSError<sp/>*)error</highlight></codeline>
<codeline lineno="575"><highlight class="normal">{</highlight></codeline>
<codeline lineno="576"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//reset<sp/>the<sp/>content<sp/>size<sp/>of<sp/>the<sp/>webview</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/><sp/>[webView.scrollView<sp/>setZoomScale:webView.scrollView.minimumZoomScale<sp/>animated:YES];</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/>[webView.scrollView<sp/>setContentSize:CGSizeMake(webView.frame.size.width,<sp/>webView.scrollView.contentSize.height)];</highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(</highlight><highlight class="keyword">self</highlight><highlight class="normal">.loadingView)<sp/>{</highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.loadingView<sp/>removeView];</highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="583"><highlight class="normal"></highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">([[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/><ref refid="interface_pxe_player_page_content_view_controller_1abc82821b4b3302687cee6029b156f0fd" kindref="member">delegate</ref>]<sp/>respondsToSelector:</highlight><highlight class="keyword">@selector</highlight><highlight class="normal">(pageLoadFailed:)])<sp/>{</highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>delegate]<sp/>pageLoadFailed:self.page];</highlight></codeline>
<codeline lineno="586"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="587"><highlight class="normal">}</highlight></codeline>
<codeline lineno="588"><highlight class="normal"></highlight></codeline>
<codeline lineno="593" refid="interface_pxe_player_page_content_view_controller_1a2ee7ab5ab5d4159e5fd53ca2538e5d6a" refkind="member"><highlight class="normal">-(void)highlightSearchWords:(NSArray*)highlightLabels<sp/>{</highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.highlights<sp/>=<sp/>highlightLabels;</highlight></codeline>
<codeline lineno="595"><highlight class="normal">}</highlight></codeline>
<codeline lineno="596"><highlight class="normal"></highlight></codeline>
<codeline lineno="602" refid="interface_pxe_player_page_content_view_controller_1a5b826204805d08a5ab828230895a4115" refkind="member"><highlight class="normal">-(void)<ref refid="interface_pxe_player_page_content_view_controller_1a5b826204805d08a5ab828230895a4115" kindref="member">updateFont</ref><sp/>{</highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageContent<sp/>stringByEvaluatingJavaScriptFromString:[NSString<sp/>stringWithFormat:@&quot;pxereader.setFontSize(%d)&quot;,<sp/>[[<ref refid="class_pxe_player" kindref="compound">PxePlayer</ref><sp/>sharedInstance]<sp/>getPageFontSize]]];</highlight></codeline>
<codeline lineno="604"><highlight class="normal">}</highlight></codeline>
<codeline lineno="605"><highlight class="normal"></highlight></codeline>
<codeline lineno="611" refid="interface_pxe_player_page_content_view_controller_1a1d1a289d82656dec419bdece231cfdfc" refkind="member"><highlight class="normal">-(void)<ref refid="interface_pxe_player_page_content_view_controller_1a1d1a289d82656dec419bdece231cfdfc" kindref="member">updateTheme</ref><sp/>{</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageContent<sp/>stringByEvaluatingJavaScriptFromString:[NSString<sp/>stringWithFormat:@&quot;pxereader.setTheme(\&quot;%@\&quot;)&quot;,<sp/>[[<ref refid="class_pxe_player" kindref="compound">PxePlayer</ref><sp/>sharedInstance]<sp/>getPageTheme]]];</highlight></codeline>
<codeline lineno="613"><highlight class="normal">}</highlight></codeline>
<codeline lineno="614"><highlight class="normal"></highlight></codeline>
<codeline lineno="620" refid="interface_pxe_player_page_content_view_controller_1a1cd7abe0cc5c6ed1fe9251a8e6e32d43" refkind="member"><highlight class="normal">-(void)setAnnotationLabel:(NSString*)label<sp/>{</highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/><sp/><sp/>DLog(</highlight><highlight class="stringliteral">@&quot;Setting<sp/>the<sp/>annotation<sp/>label:<sp/>%@&quot;</highlight><highlight class="normal">,<sp/>label);</highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.pageContent<sp/>stringByEvaluatingJavaScriptFromString:[NSString<sp/>stringWithFormat:@&quot;Annotate.instance.setPageLabel(\&quot;%@\&quot;);&quot;,<sp/>label]];</highlight></codeline>
<codeline lineno="623"><highlight class="normal">}</highlight></codeline>
<codeline lineno="624"><highlight class="normal"></highlight></codeline>
<codeline lineno="625"><highlight class="normal"></highlight><highlight class="keyword">@end</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="/Users/TITANIUM/Projects/pxereaderios/PxeReaderSDK/PxePlayerApiUI/PxePlayerPageContentViewController.m"/>
  </compounddef>
</doxygen>
